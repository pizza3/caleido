{"version":3,"sources":["Navbar/styles.tsx","Context/AppContext.tsx","Navbar/Menu.tsx","Navbar/index.tsx","Settings/styles.tsx","Settings/Stroke.tsx","helpers.tsx","Settings/StrokeColor.tsx","Settings/Grid.tsx","Settings/Options.tsx","Settings/StrokeWeight.tsx","Settings/Sections.tsx","Settings/index.tsx","CanvasRenderer/styles.tsx","CanvasRenderer/index.tsx","GridHelper/styles.tsx","GridHelper/index.tsx","Context/AppProvider.tsx","DrawingMode/styles.tsx","DrawingMode/index.tsx","serviceWorker.ts","styles.tsx","App.tsx","index.tsx"],"names":["NavContain","styled","div","MenuContain","Title","ThreeContext","React","createContext","Menu","AppContext","Consumer","context","onClick","displayDrawingMode","xmlns","viewBox","fill","showDrawingMode","d","Navbar","SettingsContain","props","showSettings","SettingsButton","PropContain","PropTitle","label","SelectBox","select","ColorPicker","input","ColorPickerOverlay","background","color","Switch","Button","button","disabled","content","length","WeightsCon","WeightButton","active","radius","RangeStyle","RangeValue","RangeContain","Stroke","htmlFor","id","value","settings","stroke","onChange","e","handleSettings","target","midPointDiff","x1","y1","activeBlock","x","y","distanceTwoPts","x2","y2","a","b","Math","sqrt","sections","blockx","floor","blocky","activeHex","width","height","nearest","offset","TWOPI","PI","hexToRgb","hex","result","exec","r","parseInt","g","getTextColor","rgb","check","StrokeWeight","0","1","2","3","ModesData","name","title","image","StrokeColor","keyValue","type","Grid","checked","showGrid","Options","state","drawState","canvas","document","getElementById","ctx","clearCanvas","clearData","getContext","restore","setTransform","clearRect","setState","downloadImage","offScreenCanvas","createElement","offctx","fillStyle","fillRect","drawImage","img","toDataURL","link","download","href","click","remove","undoCanvas","data","len","putImageData","redoCanvas","prevProps","this","reCalData","isUndo","isRedo","aria-label","style","Component","strokeWeight","Sections","min","max","step","Settings","handleshowSettings","window","innerWidth","mode","isSections","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","CanvasContain","CanvasOverlay","Background","CanvasRenderer","isDrawing","canvasRender","points","squaresections","setRenderer","innerHeight","lineJoin","lineCap","setModeTranformation","resetRenderer","translate","handleMouseMove","preventDefault","persist","handleDrawingMode","clientX","clientY","handleMouseDown","selectNearestReferencePoint","pushPoints","handleTouchMove","touches","handleTouchDown","handleMouseLeave","updateData","getImageData","angle","handleStrokeType","scale","i","rotate","h","w","temp3","temp","strokeColor","lineWidth","strokeStyle","dx","dy","dLimit","beginPath","moveTo","lineTo","newactiveSection","push","psk","drawSquare","This","addEventListener","forceUpdate","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","onTouchStart","onTouchMove","onTouchEnd","defaultProps","Container","HorizontalLine","top","VerticalLine","ReferencePoint","left","Diagonal","Diagonal2","RotateLine","Index","renderGrid","grid","mirrorGrid","rotationalGrid","squareGrid","hexagonGrid","triangleGrid","secs","key","vert","horz","refs","diag","temp2","AppProvider","children","Provider","show","OptionContain","OptionImg","OptionTitle","DrawingMode","ModesList","map","src","alt","isLocalhost","Boolean","location","hostname","match","register","config","navigator","URL","process","origin","swUrl","fetch","then","response","contentType","headers","get","status","indexOf","serviceWorker","ready","registration","unregister","reload","registerValidSW","catch","console","log","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","AppContain","App","newVersionAvailable","waitingWorker","drawingMode","componentDidMount","onServiceWorkerUpdate","option","imgData","newData","slice","waiting","updateServiceWorker","postMessage","GridHelper","ReactDOM","render"],"mappings":"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","file":"static/js/main.f9fb78d6.chunk.js","sourcesContent":["import styled from 'styled-components'\n\nexport const NavContain = styled.div`\n    position: relative;\n    width: 100%;\n    height: 50px;\n    border-bottom: 1px solid #f1f1f1;\n    display: flex;\n    justify-content:space-between;\n    padding: 9px;\n`\n\nexport const MenuContain = styled.div`\n    position: relative;\n    width: 27px;\n    height: 27px;\n    margin-top: 2px;\n\n`\n\nexport const Title = styled.div`\n    font-weight: 900;\n    margin-top: 5px;\n    user-select: none;\n    font-size: 19px;\n    -webkit-text-stroke-width: 1px;\n    -webkit-text-stroke-color: #282828;\n    color: #282828;\n    -webkit-letter-spacing: 5px;\n    -moz-letter-spacing: 5px;\n    -ms-letter-spacing: 5px;\n    letter-spacing: 5px;\n\n`","import React from 'react';\ninterface ContextType {\n    settings: {\n        stroke: string,\n        strokeColor: string,\n        background: string,\n        showGrid: boolean,\n        sections: number\n      },    \n    handleSettings: Function,\n    displayDrawingMode: Function\n  }\nconst ThreeContext = React.createContext<Partial<ContextType>>({});\n\nexport default ThreeContext;\n","import React from 'react';\nimport { MenuContain } from './styles';\nimport AppContext from '../Context/AppContext';\ntype ContextType = {\n  settings: {\n    stroke: String,\n  },\n  handleSettings: Function\n}\n\nconst Menu: React.FC = ()=>{\n    return (\n      <AppContext.Consumer>\n        {(context: any) =>\n          <MenuContain onClick={context.displayDrawingMode}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill={context.showDrawingMode?'#4f73f9':'#000'} d=\"M432 176H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16zM432 272H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16zM432 368H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16z\" /></svg>\n          </MenuContain>\n        }\n      </AppContext.Consumer>\n    )\n}\n\n\nexport default Menu;","import React from 'react';\nimport { NavContain, Title } from './styles';\nimport Menu from './Menu';\n\n\n\nconst Navbar : React.FC = ()=>{\n  return(\n    <NavContain>\n      <Menu />\n      <Title>CALEIDO</Title>\n    </NavContain>\n\n  )\n}\n\nexport default Navbar;","import styled from 'styled-components'\n\nexport const SettingsContain = styled.div`\n    position: absolute;\n    right: ${(props:{showSettings:boolean})=>props.showSettings?'0px':'-250px'};\n    width: 250px;\n    height: 100%;\n    background:#ffffff;\n    border-left: 1px solid #f1f1f1;\n    transition: 0.4s;\n`\n\nexport const SettingsButton = styled.div`\n    border: 1px solid #f1f1f1;\n    position: absolute;\n    left: -48px;\n    top: -1px;\n    background: white;\n    border-radius: 3px;\n    padding: 11px;\n    cursor: pointer;\n`\n\nexport const PropContain = styled.div`\n    position: relative;\n    width: 250px;\n    height: 50px;\n    display: flex;\n    padding-top: 13px;\n    padding-left: 5px;\n    padding-right: 5px;\n    justify-content: space-between;\n    border-bottom: 1px solid #f1f1f1;\n`\n\nexport const PropTitle = styled.label`\n    font-weight: 700;\n    user-select: none;\n    color: #535353;\n    margin-top: 4px;\n    font-size: 12px;\n\n`\n\nexport const SelectBox = styled.select`\n    margin-right: 2px;\n    width: 141px;\n    border: 1px solid #d1d1d1;\n    color: #5670ff;\n    outline: 0;\n    height: 26px;\n    border-radius: 2px;\n    line-height: 10px;\n    font-size: 10px;\n`\n\nexport const ColorPicker = styled.input`\n    width: 141px;\n    height: 26px;\n    border: 1px solid #d1d1d1;\n    border-radius: 4px;\n    position: relative;\n    margin-right: 2px;\n    z-index:2;\n    opacity:0;\n    cursor: pointer;\n`\nexport const ColorPickerOverlay = styled.div`\n    width: 141px;\n    position: absolute;\n    height: 26px;\n    border: 1px solid #d1d1d1;\n    border-radius: 4px;\n    z-index:1;\n    top: 14px;\n    font-weight: 600;\n    font-size: 12px;\n    padding-top: 4px;\n    padding-left: 9px;\n    background:${(props:{background:string,color:string})=>props.background};\n    color: ${(props)=>props.color};\n`\n\n\n\nexport const Switch = styled.label`\n  position: relative;\n  cursor: pointer;\n  -webkit-tap-highlight-color: transparent;\n    i {\n    position: relative;\n    display: inline-block;\n    margin-right: 0.5rem;\n    width: 44px;\n    height: 24px;\n    background-color: #d1d1d1;\n    border-radius: 23px;\n    vertical-align: text-bottom;\n    transition: all 0.3s linear;\n  }\n  i::before {\n    content: \"\";\n    position: absolute;\n    left: 0;\n    width: 42px;\n    height: 22px;\n    background-color: #d1d1d1;\n    border-radius: 12px;\n    transform: translate3d(2px, 2px, 0) scale3d(1, 1, 1);\n    transition: all 0.25s linear;\n  }\n  i::after {\n    content: \"\";\n    position: absolute;\n    left: -1px;\n    width: 20px;\n    height: 20px;\n    background-color: #ececec;\n    border-radius: 12px;\n    box-shadow: 0 2px 2px rgba(0, 0, 0, 0.24);\n    transform: translate3d(2px, 2px, 0);\n    transition: all 0.2s ease-in-out;\n  }\n  :active i::after {\n    width: 28px;\n    transform: translate3d(2px, 2px, 0);\n  }\n  :active input:checked + i::after {\n    transform: translate3d(16px, 2px, 0);\n  }\n  input {\n    position: absolute;\n    opacity: 0;\n    pointer-events: none;\n  }\n  input:checked + i {\n    background-color: #4f74f9;\n  }\n  input:checked + i::before {\n    transform: translate3d(18px, 2px, 0) scale3d(0, 0, 0);\n  }\n  input:checked + i::after {\n    transform: translate3d(22px, 2px, 0);\n  }\n`;\n\nexport const Button = styled.button`\n    width: 45px;\n    height: 24px;\n    border: 1px solid #d2d2d2;\n    border-radius: 4px;\n    border: none;\n    box-shadow: inset 0 0 1px #000;\n    background:${(props:{background:string, disabled:boolean,content:string})=>props.background};\n    cursor:${(props)=>props.disabled?'not-allowed':'pointer'};\n    &:focus{\n      outline: none;\n    }\n    &::before {\n      content: '${(props)=>`${props.content}`}';\n      color: #fff;\n      position: absolute;\n      background-color: #000;\n      width: auto;\n      height: 19px;\n      padding: 3px 7px 1px 7px;\n      margin: -30px 0px 0px ${(props)=>`-${props.content.length}%`};\n      border-radius: 4px;\n      display:none;\n      box-shadow: 0px 0px 12px -5px rgba(0,0,0,0.75);\n    }\n    &:hover{\n      &::before {\n        display:initial;\n      }\n    }\n\n\n\n`\nexport const WeightsCon = styled.div`\n    width: 141px;\n    height: 26px;\n    border: 1px solid #d1d1d1;\n    border-right: none;\n    border-radius: 4px;\n    margin-right: 2px;\n    display:flex;\n    overflow:hidden;\n\n`\n\nexport const WeightButton = styled.button`\n    width: 35px;\n    height: 26px;\n    border:none;\n    border-right: 1px solid #d1d1d1;\n    background-color: ${(props:{radius:number,active:boolean})=>props.active?'#4f73f9':'#fff'};\n    cursor: pointer;\n    transition: 0.3s;\n\n    &::before {\n      content: \"\";\n      position: absolute;\n      background-color: ${(props)=>props.active?'#fff':'#000'};\n      width: ${(props)=>props.radius + 'px'};\n      height: ${(props)=>props.radius + 'px'};\n      margin-left:  ${(props)=>-props.radius/2 + 'px'};\n      margin-top:  ${(props)=>-(props.radius /2)-1+ 'px'};\n      border-radius:50%;\n    }\n\n    &:focus{\n      outline: none;\n    }\n\n`\n\nexport const RangeStyle = styled.input`\n  -webkit-appearance: none;\n  background-color: #4f74f9;\n  width: 90px;\n  float: right;\n  height: 4px;\n  margin-top: 10px;\n  border-radius: 13px;\n  margin-right: 7px;\n  outline: 0;\n  &:focus{\n      outline: none;\n    }\n  ::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    background-color: #ffffff;\n    width: 14px;\n    height: 14px;\n    border-radius: 50%;\n    cursor: pointer;\n    box-shadow: 0px 0px 7px -2px rgba(0, 0, 0, 1);\n    transition: 0.3s ease-in-out;\n  }\n  ::-webkit-slider-thumb:active {\n    transform: scale(1.3);\n  }\n`;\n\n\nexport const RangeValue = styled.div`\n  width: 35px;\n  height: 26px;\n  border: 1px solid #d2d2d2;\n  border-radius: 4px;\n  font-size: 12px;\n  text-align: center;\n  padding-top: 3px;\n  color: #4f74f9;\n  font-weight: 500;\n\n`\n\nexport const RangeContain = styled.div`\n  display:flex;\n  width: 141px;\n  flex-direction: row;\n  justify-content: space-between;\n\n`\n\n","import React from 'react';\nimport { SelectBox, PropContain, PropTitle } from './styles';\nimport AppContext from '../Context/AppContext';\n\ninterface ContextType {\n  settings: {\n      stroke: string,\n      strokeColor: string,\n      background: string,\n      showGrid: boolean,\n      sections: number\n    },    \n  handleSettings: Function,\n  displayDrawingMode: Function\n}\nconst Stroke : React.FC = () => {\n    return (\n      <AppContext.Consumer>\n        {(context: any) => (\n            <PropContain>\n              <PropTitle htmlFor=\"stroke\">Stroke</PropTitle>\n                <SelectBox id='stroke' value={context.settings.stroke} onChange={(e) => { context.handleSettings('stroke', e.target.value) }}>\n                  <option value='Line'>Line</option>\n                  <option value='Near Point'>Near Point</option>\n                </SelectBox>\n            </PropContain>\n          )\n        }\n      </AppContext.Consumer>\n    )\n  }\n\n  export default Stroke;\n\n","export const midPointDiff = (x1: number, y1: number, activeBlock: {x:number,y:number} ) => {\n  return {\n    x: x1 - activeBlock.x,\n    y: y1 - activeBlock.y,\n  }\n}\n\nexport const distanceTwoPts = (x1: number, y1: number, x2: number, y2: number)=>{\n  const a = x1 - x2;\n  const b = y1 - y2;\n  const dist = Math.sqrt( a*a + b*b );\n  return dist\n}\n\n\nexport const activeBlock = (x: number, y: number, sections: number) => {\n  let blockx: number = Math.floor(x / sections)\n  let blocky: number = Math.floor(y / sections)\n  if (blockx % 2 === 0) {\n    blockx += 1\n  }\n  if (blocky % 2 === 0) {\n    blocky += 1\n  }\n\n  return {\n    x: blockx,\n    y: blocky\n  }\n}\n\nexport const activeHex = (x1: number, y1: number, sections: number, width: number, height: number) => {\n  const side = 130;\n  const Height = 112.5;\n  let blocky: number = Math.floor(y1 / Height)  \n  let nearest = {x:0,y:0};\n  let offset = 3*side - side/2\n    offset = !(blocky%2)? 3*side - side/2: side\n    for(let y=blocky;y<=blocky+1;y++){\n      for(let x = offset;x<width+offset;x+=3*side){\n        if(nearest){\n          let checknew = distanceTwoPts(x,y*Height,x1,y1)\n          let checkold = distanceTwoPts(nearest.x,nearest.y,x1,y1)\n          if(checknew<checkold){            \n            nearest={x:x,y:y*Height}\n          }\n        }else{\n          nearest={x:x,y:y*Height}\n        }\n      }\n      offset = !(blocky%2)? side :  3*side - side/2\n    }    \n  return nearest\n}\n\nexport const TWOPI = 2 * Math.PI\n\nexport const hexToRgb = (hex: string) => {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : { r: 0, g: 0, b: 0 };\n}\n\nexport const getTextColor = (hex:string='#000000') => {\n  // check calculates Luminance\n  let rgb = hexToRgb(hex)\n  const check = 1 - (0.299 * rgb.r + 0.587 * rgb.g + 0.114 * rgb.b) / 255;\n  return check < 0.5 ? 'black' : 'white';\n}\n\nexport const StrokeWeight: any = {\n  'Near Point': {\n    0:250,\n    1:500,\n    2:750,\n    3:1000\n  },\n  'Line': {\n    0:1,\n    1:5,\n    2:8,\n    3:15\n  }\n}\n\nexport const ModesData = [\n  {\n    name: 'Mirror',\n    title: 'Mirror',\n    image: 'https://raw.githubusercontent.com/pizza3/asset/master/mirror.jpg'\n    \n\n  },\n  {\n    name: 'Rotation',\n    title: 'Rotation',\n    image: 'https://raw.githubusercontent.com/pizza3/asset/master/rotation.jpg'\n\n  },\n  {\n    name: 'Kaliedo',\n    title: 'Kaliedo',\n    image: 'https://raw.githubusercontent.com/pizza3/asset/master/kaliedo.jpg'\n\n  },\n  {\n    name: 'SquareRotation',\n    title: 'Square Rotation',\n    image: 'https://raw.githubusercontent.com/pizza3/asset/master/squarerotation.jpg'\n\n  },\n  {\n    name: 'SquareKaliedo',\n    title: 'Square Kaliedo',\n    image: 'https://raw.githubusercontent.com/pizza3/asset/master/squarekaliedo.jpg'\n\n\n  },\n  {\n    name: 'Hexagon',\n    title: 'Hexagon',\n    image: 'https://raw.githubusercontent.com/pizza3/asset/master/hexagon.jpg'\n\n  },\n  {\n    name: 'HexagonRotation',\n    title: 'Hexagon Rotation',\n    image: 'https://raw.githubusercontent.com/pizza3/asset/master/hexagonrotation.jpg'\n\n  },\n  {\n    name: 'HexagonKaliedo',\n    title: 'Hexagon Kaliedo',\n    image: 'https://raw.githubusercontent.com/pizza3/asset/master/hexagonkaliedo.jpg'\n  }\n]\n","import React from 'react';\nimport { PropContain, PropTitle, ColorPicker, ColorPickerOverlay } from './styles';\nimport AppContext from '../Context/AppContext';\nimport { getTextColor } from '../helpers'\n\nconst StrokeColor : React.FC<{ title: string, keyValue:string }> = ({title, keyValue})=> {\n    return (\n      <AppContext.Consumer>\n        {(context: any) => {\n          const color = context.settings[keyValue]\n          return (\n            <PropContain>\n              <PropTitle htmlFor={keyValue}>{title}</PropTitle>\n              <div>\n                <ColorPicker id={keyValue} type='color' value={color} onChange={(e) => { context.handleSettings(keyValue, e.target.value) }} />\n                <ColorPickerOverlay background={color} color={getTextColor(color)}>{color}</ColorPickerOverlay>\n              </div>\n            </PropContain>\n          )\n        }}\n      </AppContext.Consumer>\n\n    )\n}\n\nexport default StrokeColor;","import React from 'react';\nimport { PropContain, PropTitle, Switch } from './styles';\nimport AppContext from '../Context/AppContext';\n\ntype ContextType = {\n  settings: {\n    showGrid: boolean,\n  },\n  handleSettings: Function\n}\nconst Grid: React.FC = () => {\n  return (\n    <AppContext.Consumer>\n      {(context: any) => {\n        return (\n          <PropContain>\n            <PropTitle htmlFor=\"grid\">Grid</PropTitle>\n            <Switch>\n              <input\n                id=\"grid\"\n                type=\"checkbox\"\n                checked={context.settings.showGrid}\n                onChange={(e) => { context.handleSettings('showGrid', e.target.checked) }}\n              />\n              <i />\n            </Switch>\n          </PropContain>\n        )\n      }}\n    </AppContext.Consumer>\n  )\n}\n\n\n\nexport default Grid","import React, { Component } from 'react';\nimport { PropContain, Button } from './styles';\n\ntype Props = {\n  data: [] | ImageData[],\n  settings: {\n    stroke: string,\n    strokeColor: string,\n    background: string,\n    showGrid: boolean,\n    sections: number\n  },\n  reCalData: Function,\n  clearData: Function,\n}\n\ntype States = {\n  drawState: number\n}\nexport default class Options extends Component<Props, States>{\n  state: States = {\n    drawState: 0\n  }\n  canvas: any = document.getElementById('canvasRender');\n  ctx: any = null;\n  width: number = 0;\n  height: number = 0;\n\n\n  componentDidUpdate(prevProps: Props) {\n    const { data } = this.props\n    const { drawState } = this.state;\n    if (data.length !== prevProps.data.length) {\n      if (drawState !== 0) {\n        this.setState({\n          drawState: 0\n        })\n        this.props.reCalData(drawState)\n      }\n    }\n  }\n\n\n  clearCanvas = (clearData: boolean = false) => {\n    this.canvas = document.getElementById('canvasRender')\n    this.ctx = this.canvas.getContext('2d')\n    this.ctx.restore();\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n    if (clearData) {\n      this.props.clearData()\n      this.setState({\n        drawState: 0\n      })\n    }\n  }\n\n  downloadImage = () => {\n    const { settings } = this.props\n    const background = settings.background;\n    this.canvas = document.getElementById('canvasRender')\n    this.ctx = this.canvas.getContext('2d')\n    // set a offscreencanvas\n    let offScreenCanvas: any = document.createElement('canvas');\n    offScreenCanvas.width = this.canvas.width;\n    offScreenCanvas.height = this.canvas.height;\n    let offctx: any = offScreenCanvas.getContext('2d');\n    // apply the background \n    offctx.fillStyle = background;\n    offctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n    // apply the image drawn\n    offctx.drawImage(this.canvas, 0, 0);\n    // get the final image from offScreenCanvas\n    const img: string = offScreenCanvas.toDataURL(\"image/png\");\n    // create a anchor el. for downloading image ref.\n    let link = document.createElement('a');\n    link.download = 'caleido.png';\n    link.href = img\n    // downloads the final image\n    link.click();  \n    // removes both offScreenCanvas & link(anchor)\n    link.remove();\n    offScreenCanvas.remove();\n  }\n\n\n  undoCanvas = () => {\n    const { data } = this.props\n    const { drawState } = this.state;\n    const len = data.length - 1\n    this.clearCanvas()\n    this.setState({\n      drawState: drawState + 1\n    }, () => {\n      let img: ImageData = data[len - (this.state.drawState)]\n      if (img) {\n        this.ctx.putImageData(img, 0, 0);\n      } else {\n        this.clearCanvas()\n      }\n    })\n  }\n\n  redoCanvas = () => {\n    const { data } = this.props\n    const { drawState } = this.state;\n    const len: number = data.length - 1\n    this.clearCanvas()\n    this.setState({\n      drawState: drawState - 1\n    }, () => {\n      let img: ImageData = data[len - (this.state.drawState)]\n      if (img) {\n        this.ctx.putImageData(img, 0, 0);\n      } else {\n        this.clearCanvas()\n      }\n    })\n\n  }\n\n  render() {\n    const { data } = this.props\n    const { drawState } = this.state;\n    const isUndo: boolean = !(data.length > 0) || data.length === drawState\n    const isRedo: boolean = 0 === drawState\n    return (\n      <PropContain>\n        <Button background='#ff5a5a' disabled={false} content={'Clear'} aria-label=\"Clear\" onClick={() => { this.clearCanvas(true) }}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" style={{ width: '19px' }}><path fill='#ffffff' d=\"M133.1 128l23.6 290.7c0 16.2 13.1 29.3 29.3 29.3h141c16.2 0 29.3-13.1 29.3-29.3L379.6 128H133.1zm61.6 265L188 160h18.5l6.9 233h-18.7zm70.3 0h-18V160h18v233zm52.3 0h-18.6l6.8-233H324l-6.7 233zM364 92h-36l-26.3-23c-3.7-3.2-8.4-5-13.2-5h-64.8c-4.9 0-9.7 1.8-13.4 5L184 92h-36c-17.6 0-30 8.4-30 26h276c0-17.6-12.4-26-30-26z\" /></svg>\n        </Button>\n        <Button background='#4f73f9' disabled={false} content={'Download Image'} aria-label=\"Download Image\" onClick={this.downloadImage}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" style={{ width: '19px' }}><path fill='#ffffff' d=\"M403.002 217.001C388.998 148.002 328.998 96 256 96c-57.998 0-107.998 32.998-132.998 81.001C63.002 183.002 16 233.998 16 296c0 65.996 53.999 120 120 120h260c55 0 100-45 100-100 0-52.998-40.996-96.001-92.998-98.999zM224 268v-76h64v76h68L256 368 156 268h68z\" /></svg>\n        </Button>\n        <Button background={isUndo ? '#d8d8d8' : '#fff'} disabled={isUndo} content={'Undo'} aria-label=\"Undo\" onClick={this.undoCanvas}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" style={{ width: '19px' }}><path fill={isUndo ? '#737373' : '#4f73f9'} d=\"M70.5 265.4l59.6-59.4c2.6-2.6 6.1-4.1 9.9-4.1 3.7 0 7.3 1.4 9.9 4.1 2.6 2.6 4.1 6.1 4.1 9.9s-1.5 7.3-4.1 9.9l-.1.1-41.1 40.1H370c13.2 0 25.8-5.2 35.3-14.7 9.5-9.4 14.7-21.9 14.7-35.3v-48c0-7.7 6.3-14 14-14s14 6.3 14 14v48c0 20.8-8.1 40.3-22.9 55.1-14.8 14.8-34.3 22.9-55.1 22.9H108.3l39.6 40.2c2.6 2.6 4.1 6.1 4.1 9.9 0 3.7-1.4 7.3-4.1 9.9l-.1.1c-2.7 2.5-6.2 3.9-9.8 3.9-3.9 0-7.3-1.4-9.9-4.1l-57.6-57.4c-4.2-4.2-6.5-9.8-6.5-15.7 0-5.8 2.3-11.3 6.5-15.4z\" /></svg>\n        </Button>\n        <Button background={isRedo ? '#d8d8d8' : '#fff'} disabled={isRedo} content={'Redo'} aria-label=\"Redo\" onClick={this.redoCanvas}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" style={{ width: '19px' }}><path fill={isRedo ? '#737373' : '#4f73f9'} d=\"M441.5 265.4L381.9 206c-2.6-2.6-6.1-4.1-9.9-4.1-3.7 0-7.3 1.4-9.9 4.1-2.6 2.6-4.1 6.1-4.1 9.9s1.5 7.3 4.1 9.9l.1.1 41.1 40.1H142c-13.2 0-25.8-5.2-35.3-14.7-9.5-9.5-14.7-22-14.7-35.3v-48c0-7.7-6.3-14-14-14s-14 6.3-14 14v48c0 20.8 8.1 40.3 22.9 55.1 14.8 14.8 34.3 22.9 55.1 22.9h261.7L364 334.2c-2.6 2.6-4.1 6.1-4.1 9.9 0 3.7 1.4 7.3 4.1 9.9l.1.1c2.7 2.5 6.2 3.9 9.8 3.9 3.9 0 7.3-1.4 9.9-4.1l57.6-57.4c4.2-4.2 6.5-9.8 6.5-15.7.1-5.8-2.2-11.3-6.4-15.4z\" /></svg>\n        </Button>\n      </PropContain>\n    )\n  }\n}\n\n","import React from 'react';\nimport { PropContain, PropTitle, WeightsCon, WeightButton } from './styles';\n\nimport AppContext from '../Context/AppContext';\n\n\nconst StrokeWeight : React.FC = () => {\n  return (\n    <AppContext.Consumer>\n      {(context: any) => {\n        return (\n          <PropContain>\n            <PropTitle>Stroke Weight</PropTitle>\n            <WeightsCon>\n              <WeightButton aria-label=\"Stroke Weight 1\" radius={5} active={context.settings.strokeWeight===0} onClick={()=>{context.handleSettings('strokeWeight',0)}}/>\n              <WeightButton aria-label=\"Stroke Weight 2\" radius={7} active={context.settings.strokeWeight===1} onClick={()=>{context.handleSettings('strokeWeight',1)}}/>\n              <WeightButton aria-label=\"Stroke Weight 3\" radius={9} active={context.settings.strokeWeight===2} onClick={()=>{context.handleSettings('strokeWeight',2)}}/>\n              <WeightButton aria-label=\"Stroke Weight 4\" radius={11} active={context.settings.strokeWeight===3} onClick={()=>{context.handleSettings('strokeWeight',3)}}/>\n            </WeightsCon>\n          </PropContain>\n        )\n      }}\n    </AppContext.Consumer>\n  )\n}\n\nexport default StrokeWeight\n","import React from 'react';\nimport { PropContain, PropTitle, RangeStyle, RangeValue, RangeContain } from './styles';\nimport AppContext from '../Context/AppContext';\n\ntype ContextType = {\n  settings: {\n    showGrid: boolean,\n  },\n  handleSettings: Function\n}\nconst Sections : React.FC = () => {\n    return (\n      <AppContext.Consumer>\n        {(context: any) => {\n          return (\n            <PropContain>\n              <PropTitle htmlFor=\"sections\">Sections</PropTitle>\n              <RangeContain>\n                  <RangeValue>{context.settings.sections}</RangeValue>\n                  <RangeStyle\n                    id=\"sections\"\n                    type=\"range\"\n                    min={3}\n                    max={20}\n                    step={1}\n                    value={context.settings.sections}\n                    onChange={(e) => { context.handleSettings('sections', e.target.value) }}\n                    />\n              </RangeContain>\n            </PropContain>\n          )\n        }}\n      </AppContext.Consumer>\n    )\n}\n\nexport default Sections;\n\n","import React, { Component } from 'react';\nimport { SettingsContain, SettingsButton } from './styles'\nimport Stroke from './Stroke'\nimport StrokeColor from './StrokeColor'\nimport Grid from './Grid'\nimport Options from './Options'\nimport StrokeWeight from './StrokeWeight'\nimport Sections from './Sections'\n\ntype State = {\n  showSettings: boolean \n}\n\ntype Props = {\n  data: []|ImageData[],\n    settings: {\n    stroke: string,\n    strokeColor: string,\n    background: string,\n    showGrid: boolean,\n    sections: number\n  },\n  reCalData:Function,\n  clearData: Function,\n  mode: string\n}\nexport default class Settings extends Component<Props, State> {\n  state: State = {\n    showSettings: true\n  }\n\n  componentDidMount(){\n    const width = window.innerWidth;\n    if(width<600){\n      this.setState({\n        showSettings: false\n      })\n    }\n  }\n\n  handleshowSettings = () => {\n    const { showSettings } = this.state;\n    this.setState({\n      showSettings: !showSettings\n    })\n  }\n  render() {\n    const {data, settings, reCalData, clearData, mode} = this.props\n    const { showSettings } = this.state;\n    const isSections = mode==='Rotation'||mode==='Kaliedo'?<Sections/>:[]\n    return (\n      <SettingsContain showSettings={showSettings}>\n        <SettingsButton onClick={this.handleshowSettings}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke={showSettings?\"#4f73f9\":\"#000\"} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" >\n            <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n            <path d=\"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z\">\n            </path>\n          </svg>\n        </SettingsButton>\n        <Options data={data} settings={settings} reCalData={reCalData} clearData={clearData}/>\n        <Stroke />\n        <StrokeColor title='Stroke Color' keyValue='strokeColor' />\n        <StrokeColor title='Background' keyValue='background' />\n        <Grid/>\n        <StrokeWeight />\n        {isSections}\n      </SettingsContain>\n    )\n  }\n}","import styled from 'styled-components'\n\nexport const CanvasContain = styled.canvas`\n    position: absolute;\n    cursor: crosshair;\n    overflow-y: hidden;\n`\nexport const CanvasOverlay = styled.div`\n    width:100%;\n    height: 100%;\n    overflow:hidden;\n    position: relative;\n`\n\nexport const Background = styled.div`\n    position: absolute;\n    width:100%;\n    height: 100%;\n    z-index:-1;\n    background: ${(props)=>props.color};\n`","import React, { Component } from 'react';\nimport { CanvasContain, CanvasOverlay } from './styles';\nimport { midPointDiff, activeBlock, TWOPI, hexToRgb, activeHex, StrokeWeight } from '../helpers';\n\ntype States = {\n  isDrawing: boolean,\n}\n\ntype CoordinatePlane = {\n  x: number\n  y: number\n}\n\ntype Props = {\n  mode: string\n  stroke: string\n  strokeColor: string\n  sections: number\n  strokeWeight: number\n  updateData: Function,\n}\n\nexport default class CanvasRenderer extends Component<Props, States>{\n  state: States = {\n    isDrawing: false,\n  }\n\n  public static defaultProps = {\n    strokeColor: \"#000000\"\n  };\n\n\n  // Basic canvas variables .\n  canvasRender: any = document.getElementById('canvasRender');\n  ctx: any = null;\n  width: number = 0;\n  height: number = 0;\n\n  // Mouse interaction variables .\n  points: { x: number, y: number }[] = [];\n  squaresections: number = 130;\n  isDrawing: boolean = false\n  activeBlock: CoordinatePlane = { x: this.squaresections, y: this.squaresections }\n\n  componentDidMount() {\n    this.setRenderer()\n    const This = this;\n    window.addEventListener('resize',function(){\n      // handles canvas in case for screen is rotated.\n      This.forceUpdate();\n    })\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    const { mode } = this.props;\n    if (mode !== prevProps.mode) {\n      this.setModeTranformation()\n    }\n  }\n\n  // sets canvas and ctx \n  setRenderer = () => {\n    this.canvasRender = document.getElementById('canvasRender');\n    this.ctx = this.canvasRender.getContext('2d');\n    this.canvasRender.width = this.width = window.innerWidth;\n    this.canvasRender.height = this.height = window.innerHeight - 50;\n    this.ctx.lineJoin = this.ctx.lineCap = 'round';\n    this.setModeTranformation()\n  }\n\n  setModeTranformation = () => {\n    const { mode } = this.props;\n    this.points = []\n    switch (mode) {\n      case 'Rotation':\n        this.resetRenderer()\n        this.ctx.translate(this.width / 2, this.height / 2);\n        break;\n      case 'Kaliedo':\n        this.resetRenderer()\n        this.ctx.translate(this.width / 2, this.height / 2);\n        break;\n      default:\n        this.resetRenderer()\n        break;\n    }\n  }\n\n  // re renders canvas again on change in drawing mode\n  resetRenderer = () => {\n    // remove of any for of unnessecary tranformations and states\n    this.ctx.restore();\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    // clear canvas\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n  }\n\n  handleMouseMove = (e: React.MouseEvent) => {\n    e.preventDefault()\n    e.persist();\n    if (this.isDrawing) {\n      this.handleDrawingMode({ x: e.clientX, y: e.clientY - 50 })\n    }\n  }\n\n  handleMouseDown = (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.persist();\n    this.selectNearestReferencePoint({ x: e.clientX, y: e.clientY - 50 })\n    this.pushPoints({ x: e.clientX, y: e.clientY - 50 })\n    // this.pushPoints({ x: e.touches ? e.touches[0].clientX : e.clientX, y: e.touches ? e.touches[0].clientY -50: e.clientY- 50 })\n    this.isDrawing = true\n    // this.selectNearestReferencePoint({ x: e.touches ? e.touches[0].clientX : e.clientX, y: e.touches ? e.touches[0].clientY -50: e.clientY- 50 })\n\n  }\n\n  handleTouchMove = (e: React.TouchEvent) => {\n    e.persist();\n    if (this.isDrawing) {\n      this.handleDrawingMode({ x: e.touches[0].clientX, y: e.touches[0].clientY - 50 })\n    }\n  }\n\n  handleTouchDown = (e: React.TouchEvent) => {\n    e.persist();\n    this.selectNearestReferencePoint({ x: e.touches[0].clientX, y: e.touches[0].clientY - 50 })\n    this.pushPoints({ x: e.touches[0].clientX, y: e.touches[0].clientY - 50 })\n    // this.pushPoints({ x: e.touches ? e.touches[0].clientX : e.clientX, y: e.touches ? e.touches[0].clientY -50: e.clientY- 50 })\n    this.isDrawing = true\n    // this.selectNearestReferencePoint({ x: e.touches ? e.touches[0].clientX : e.clientX, y: e.touches ? e.touches[0].clientY -50: e.clientY- 50 })\n  }\n\n  handleMouseLeave = (e: React.MouseEvent | React.TouchEvent) => {\n    e.preventDefault()\n    const { updateData } = this.props\n    if (this.points.length > 1) {\n      var imgData = this.ctx.getImageData(0, 0, this.width, this.height);\n      updateData(imgData)\n    }\n    this.points = [];\n    this.isDrawing = false\n  }\n\n  handleDrawingMode = (e: CoordinatePlane) => {\n    const { mode, sections } = this.props;\n    const angle: number = TWOPI / sections\n    this.pushPoints({ x: e.x, y: e.y })\n    if (mode === 'Mirror') {\n      this.handleStrokeType()\n      // flip the render in order for mirror effect\n      this.ctx.translate(this.width, 0);\n      this.ctx.scale(-1, 1);\n      this.handleStrokeType()\n    } else if (mode === 'Kaliedo' || mode === 'Rotation') {\n      for (let i = 0; i < TWOPI; i += angle) {\n        this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n        this.ctx.translate(this.width / 2, this.height / 2);\n        this.ctx.rotate(i);\n        this.handleStrokeType()\n      }\n    } else if (mode === 'SquareRotation' || mode === 'SquareKaliedo') {\n      for (let h = -this.squaresections; h <= this.height + this.squaresections; h += 2 * this.squaresections) {\n        for (let w = -this.squaresections; w <= this.width + this.squaresections; w += 2 * this.squaresections) {\n          for (let i = 0; i < TWOPI; i += TWOPI / 4) {\n            this.ctx.restore();\n            this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n            this.ctx.translate(w, h);\n            this.ctx.rotate(i);\n            this.handleStrokeType()\n          }\n        }\n      }\n    } else if (mode === 'Hexagon') {\n      let temp3 = -1;\n      this.ctx.restore();\n      for (let y = -112.5; y <= this.height + 112.5; y += 112.5) {\n        const offset = !(temp3 % 2) ? -3 * 130 - 65 : 130;\n        for (let x = offset; x <= this.width + 3 * 130; x += 3 * 130) {\n          this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n          this.ctx.translate(x, y);\n          this.ctx.rotate(0);\n          this.handleStrokeType()\n        }\n        temp3++\n      }\n    } else if (mode === 'HexagonRotation' || mode === 'HexagonKaliedo') {\n      let temp = 0;\n      this.ctx.restore();\n      for (let y = 0; y <= this.height + 112.5; y += 112.5) {\n        const offset = !(temp % 2) ? -3 * 130 - 65 : 130;\n        for (let x = offset; x <= this.width + 3 * 130; x += 3 * 130) {\n          for (let i = 0; i <= TWOPI; i += TWOPI / 6) {\n            this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n            this.ctx.translate(x, y);\n            this.ctx.rotate(i);\n            this.handleStrokeType()\n          }\n        }\n        temp++\n      }\n    } else {\n      // as a default case the mirror will execute.\n      this.handleStrokeType()\n      this.ctx.translate(this.width, 0);\n      this.ctx.scale(-1, 1);\n      this.handleStrokeType()\n\n    }\n  }\n\n  handleStrokeType = (offset: number = 0) => {\n    // this.ctx.beginPath();\n    // this.ctx.moveTo(this.points[this.points.length - 2].x+offset, this.points[this.points.length - 2].y);\n    // this.ctx.lineTo(this.points[this.points.length - 1].x+offset, this.points[this.points.length - 1].y);\n    // this.ctx.stroke();\n    const { mode, stroke, strokeColor, strokeWeight } = this.props;\n    const color: { r: number, g: number, b: number } = hexToRgb(strokeColor)\n    if (stroke === 'Near Point') {\n      this.ctx.lineWidth = 1;\n      this.ctx.strokeStyle = `rgba(${color.r},${color.g},${color.b},0.1)`;\n      for (let i = 0, len = this.points.length; i < len; i++) {\n        const dx: number = this.points[i].x + offset - (this.points[this.points.length - 1].x + offset);\n        const dy: number = this.points[i].y - this.points[this.points.length - 1].y;\n        const d: number = dx * dx + dy * dy;\n        const dLimit: number = StrokeWeight[stroke][strokeWeight]\n        if (d < dLimit) {\n          this.ctx.beginPath();\n          this.ctx.moveTo(this.points[this.points.length - 1].x + offset + (dx * 0.2), this.points[this.points.length - 1].y + (dy * 0.2));\n          this.ctx.lineTo(this.points[i].x + offset - (dx * 0.2), this.points[i].y - (dy * 0.2));\n          this.ctx.stroke();\n          if (mode === 'Kaliedo' || mode === 'HexagonKaliedo' || mode === 'SquareKaliedo') {\n            this.ctx.beginPath();\n            this.ctx.moveTo(-this.points[this.points.length - 1].x + (-dx * 0.2), this.points[this.points.length - 1].y + (dy * 0.2));\n            this.ctx.lineTo(-this.points[i].x - (-dx * 0.2), this.points[i].y - (dy * 0.2));\n            this.ctx.stroke();\n          }\n        }\n      }\n    } else {\n      // if(this.points[this.points.length - 2].x<0||this.points[this.points.length - 1].x<0)return\n      this.ctx.lineWidth =  StrokeWeight[stroke][strokeWeight]\n      this.ctx.strokeStyle = `rgba(${color.r},${color.g},${color.b},1)`;\n      this.ctx.beginPath();\n      this.ctx.moveTo(this.points[this.points.length - 2].x, this.points[this.points.length - 2].y);\n      this.ctx.lineTo(this.points[this.points.length - 1].x, this.points[this.points.length - 1].y);\n      this.ctx.stroke();\n      if (mode === 'Kaliedo' || mode === 'HexagonKaliedo' || mode === 'SquareKaliedo') {\n        this.ctx.beginPath();\n        this.ctx.moveTo(-this.points[this.points.length - 2].x, this.points[this.points.length - 2].y);\n        this.ctx.lineTo(-this.points[this.points.length - 1].x, this.points[this.points.length - 1].y);\n        this.ctx.stroke();\n      }\n    }\n  }\n\n  selectNearestReferencePoint = (e: CoordinatePlane) => {\n    const { mode } = this.props;\n    let newactiveSection = activeBlock(e.x, e.y, this.squaresections)\n    if (mode === 'HexagonRotation' || mode === 'HexagonKaliedo' || mode === 'Hexagon') {\n      newactiveSection = activeHex(e.x, e.y, this.squaresections, this.width, this.height)\n      this.activeBlock = {\n        x: newactiveSection.x,\n        y: newactiveSection.y\n      }\n    } else {\n      this.activeBlock = {\n        x: newactiveSection.x * this.squaresections,\n        y: newactiveSection.y * this.squaresections\n      }\n    }\n  }\n\n\n  pushPoints = (e: CoordinatePlane) => {\n    const { mode } = this.props;\n    if (mode === 'Rotation' || mode === 'Kaliedo') {\n      /**  giving an offset of width / 2 & height / 2 because\n       * canvas is translated by width / 2 & height / 2. */\n      this.points.push({ x: e.x - this.width / 2, y: e.y - this.height / 2 });\n    } else if (mode === 'SquareRotation' || mode === 'SquareKaliedo' || mode === 'HexagonRotation' || mode === 'HexagonKaliedo' || mode === 'Hexagon') {\n      /**  For the cases of SquareRotation,SquareKaliedo,HexagonRotation,HexagonKaliedo,Hexagon\n       *   the distance between mouse/touch and the reference point is taken and pushed into this.points,\n       *   this distance is basically normalised wrt 0,0.\n       */\n      const psk: { x: number, y: number } = midPointDiff(e.x, e.y, this.activeBlock)\n      this.points.push(psk)\n    } else {\n      this.points.push({ x: e.x, y: e.y });\n    }\n  }\n\n  drawSquare = (w: number, h: number, i: number) => {\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    this.ctx.translate(w, h);\n    this.ctx.rotate(i);\n    this.handleStrokeType()\n  }\n\n  render() {\n    return (\n      <CanvasOverlay>\n        <CanvasContain id='canvasRender' onMouseDown={this.handleMouseDown}  onMouseMove={this.handleMouseMove} onMouseUp={this.handleMouseLeave} onMouseLeave={this.handleMouseLeave} onTouchStart={this.handleTouchDown} onTouchMove={this.handleTouchMove} onTouchEnd={this.handleMouseLeave} ></CanvasContain>\n      </CanvasOverlay>\n    )\n  }\n}","import styled from 'styled-components'\n\n\nexport const Container = styled.div`\n    position: absolute;\n    width:100%;\n    height: 100%;\n    z-index:0;\n    overflow:hidden;\n`\n\nexport const HorizontalLine = styled.div`\n    width:100%;\n    position: absolute;\n    height: 1px;\n    background:#e7e7e7;\n    top:${(props:{top:number})=>props.top+'px'};\n`\n\nexport const VerticalLine = styled.div`\n    width:1px;\n    position: absolute;\n    height: 100%;\n    background:#e7e7e7;\n    left:${(props:{top:number})=>props.top+'px'};\n`\n\nexport const ReferencePoint = styled.div`\n    width: 8px;\n    position: absolute;\n    border-radius: 50%;\n    height: 8px;\n    background:#e7e7e7;\n    left:${(props:{left:number, top:number})=>props.left+'px'};\n    top:${(props)=>props.top+'px'};\n`\n\nexport const Diagonal = styled.div`\n    width: 367.7px;\n    height: 1px;\n    background:#e7e7e7;\n    position: absolute;\n    transform-origin: left;\n    transform: ${(props:{left:number, top:number, angle:number})=>`rotate(${props.angle}deg)`};\n    left:${(props)=>props.left+'px'};\n    top:${(props)=>props.top+'px'};\n\n`\n\nexport const Diagonal2 = styled.div`\n    width: 130px;\n    height: 1px;\n    background:#e7e7e7;\n    position: absolute;\n    transform-origin: left;\n    transform: ${(props:{left:number, top:number, angle:number})=>`rotate(${props.angle}deg)`};\n    left:${(props)=>props.left+'px'};\n    top:${(props)=>props.top+'px'};\n\n`\n\nexport const RotateLine =  styled.div`\n    width:1px;\n    position: absolute;\n    height: 140%;\n    background:#e7e7e7;\n    bottom: calc(50% + 0px);\n    left:${(props:{left:number,angle:number})=>props.left+'px'};\n    transform-origin: bottom;\n    transform: ${(props)=>`rotate(${props.angle}deg)`};\n`\n","import React, { Component } from 'react';\nimport { Container, VerticalLine, HorizontalLine, ReferencePoint, Diagonal, RotateLine, Diagonal2 } from './styles'\ntype Props = {\n  mode: string\n  sections: number\n}\n\nclass Index extends Component<Props>{\n  static defaultProps = {\n    mode: 'Mirror',\n    sections: 10\n  }\n  componentDidMount() {\n    const This = this;\n    window.addEventListener('resize',function(){\n      This.forceUpdate();\n    })\n  }\n\n  renderGrid = () => {\n    const { mode } = this.props\n    let grid: JSX.Element | JSX.Element[] | [] = [];\n    switch (mode) {\n      case 'Mirror':\n        grid = this.mirrorGrid()\n        break;\n      case 'Rotation':\n        grid = this.rotationalGrid()\n        break;\n      case 'Kaliedo':\n        grid = this.rotationalGrid()\n        break;\n      case 'SquareRotation':\n        grid = this.squareGrid()\n        break;\n      case 'SquareKaliedo':\n        grid = this.squareGrid()\n        break;\n      case 'Hexagon':\n        grid = this.hexagonGrid()\n        break;\n      case 'HexagonRotation':\n        grid = this.triangleGrid()\n        break;\n      case 'HexagonKaliedo':\n        grid = this.triangleGrid()\n        break;\n      default:\n        grid = this.mirrorGrid()\n        break;\n    }\n    return grid;\n  }\n\n  mirrorGrid = () => {\n    const width = window.innerWidth\n    return (<VerticalLine top={width / 2} />)\n  }\n\n  rotationalGrid = () => {\n    const width = window.innerWidth\n    const { sections } = this.props\n    let secs = []\n    for (let i = 0; i <= 360; i += 360 / sections) {\n      secs.push(<RotateLine key={'RotateLine' + i} left={width / 2} angle={i} />)\n    }\n    return secs\n  }\n\n\n  squareGrid = () => {\n    const { mode } = this.props\n    const width = window.innerWidth\n    const height = window.innerHeight - 50\n\n    let vert = [], horz = [], refs = [], diag = [];\n\n    for (let i = 130; i <= height + 130; i += 130) {\n      vert.push(<HorizontalLine key={i + 'HorizontalLine'} top={i} />)\n    }\n\n    for (let i = 130; i <= width + 130; i += 130) {\n      horz.push(<VerticalLine key={i + 'VerticalLine'} top={i} />)\n    }\n\n    for (let y = 130; y <= height + 130; y += 2 * 130) {\n      for (let x = 130; x <= width + 3 * 130; x += 2 * 130) {\n        refs.push(<ReferencePoint key={`${y}${x}ReferencePoint`} top={y - 4} left={x - 4} />)\n        if (mode === 'SquareKaliedo') {\n          diag.push(<Diagonal angle={45} key={`${y}${x}Diagonal`} top={y - 130} left={x - 130} />)\n          diag.push(<Diagonal angle={135} key={`${y}${x}Diagonal2`} top={y - 130} left={x - 130} />)\n        }\n      }\n    }\n    return [...vert, ...horz, ...refs, ...diag]\n  }\n\n  triangleGrid = () => {\n    const width = window.innerWidth\n    const height = window.innerHeight - 50\n\n    let vert = [], refs = [], diag = [];\n\n    for (let i = 112.5; i <= height + 112.5; i += 112.5) {\n      vert.push(<HorizontalLine key={i + 'HorizontalLine'} top={i} />)\n    }\n    let temp = 0;\n    for (let y = 0; y <= height + 112.5; y += 112.5) {\n      const offset = !(temp % 2) ? 65 : 0;\n      for (let x = 0; x <= width + 130; x += 130) {\n        diag.push(<Diagonal2 angle={60} key={`${x}${y}Diagonal`} top={y} left={x - offset} />)\n        diag.push(<Diagonal2 angle={120} key={`${x}${y}Diagonal23`} top={y} left={x - offset} />)\n      }\n      temp++;\n    }\n    let temp2 = 0;\n    for (let y = 0; y <= height + 112.5; y += 112.5) {\n      const offset = !(temp2 % 2) ? 3 * 130 - 65 : 130;\n      for (let x = 0; x <= width + 130; x += 3 * 130) {\n        refs.push(<ReferencePoint key={`${y}${x}ReferencePoint`} top={y - 4} left={x + offset - 4}></ReferencePoint>)\n      }\n      temp2++;\n    }\n    return [...vert, ...diag, ...refs]\n  }\n\n  // used only for the case of hexagon\n  hexagonGrid = () => {\n    const width = window.innerWidth\n    const height = window.innerHeight - 50\n    let diag = [];\n    let temp = 0;\n    for (let y = 0; y <= height + 112.5; y += 112.5) {\n      const offset = !(temp % 2) ? 65 : 0;\n      for (let x = 130; x <= width + 130; x += 3*130) {\n        if(offset){\n          diag.push(<Diagonal2 angle={60} key={`${x}${y}Diagonal`} top={y} left={130+x - offset} />)\n          diag.push(<Diagonal2 angle={120} key={`${x}${y}Diagonal23`} top={y} left={x - offset} />)\n          diag.push(<Diagonal2 angle={0} key={`${x}${y}Diagonal24`} top={y} left={x - offset} />)  \n        }else{\n          diag.push(<Diagonal2 angle={60} key={`${x}${y}Diagonal`} top={y} left={x - offset-130} />)\n          diag.push(<Diagonal2 angle={120} key={`${x}${y}Diagonal23`} top={y} left={130 + x - offset} />)\n          diag.push(<Diagonal2 angle={0} key={`${x}${y}Diagonal24`} top={y} left={130 + x - offset} />)  \n        }\n      }\n      temp++;\n    }\n    return diag\n  }\n\n\n  render() {\n    return (\n      <Container>\n        {this.renderGrid()}\n      </Container>\n    )\n  }\n\n}\n\nexport default Index","import AppContext from './AppContext'\nimport React, {Component} from 'react'\n\ntype Props = {\n    value:{},\n    children: {}\n}\n\nclass AppProvider extends Component<Props> {\n    render() {\n      const {value, children} = this.props\n        return (\n            <AppContext.Provider value={value}>\n              {children}\n            </AppContext.Provider>\n        );\n    }\n}\n\nexport default AppProvider\n","import styled from 'styled-components'\n\n\nexport const Container = styled.div`\n    position: fixed;\n    width: 250px;\n    height: 100vh;\n    border-right: 1px solid #f1f1f1;\n    background: #fff;\n    user-select: none;\n    display: flex;\n    flex-direction: column;\n    -webkit-overflow-scrolling: touch;\n    overflow: scroll;\n    z-index: 1;\n    padding-bottom:50px;\n    transition: 0.3s;\n    transform: ${(props:{show:boolean})=>props.show?`translate(0px, 0px)`:`translate(-250px, 0px)`};\n`\n\nexport const OptionContain = styled.div`\n    position: relative;\n    width: 100%;\n    height:197px;\n    border-bottom: 1px solid #f1f1f1;\n    cursor: pointer;\n    padding: 4px;\n    color: #000;\n    background: #fff;\n    transition: 0.3s;\n    filter: grayscale(100%);\n\n    &:hover{\n        color: #4f73f9;\n        background: #000;\n        filter: grayscale(0%);\n\n    }\n`\n\nexport const OptionImg = styled.img`\n    width: 240px;\n    height: 160px;\n    user-select: none;\n\n`\n\nexport const OptionTitle = styled.div`\n    font-size: 22px;\n    font-weight: 900;\n    user-select: none;\n\n`\n\n","import React from 'react';\nimport { Container, OptionContain, OptionImg, OptionTitle } from './styles'\nimport { ModesData } from '../helpers'\n\nconst DrawingMode:React.FC<{handleDrawingMode:Function,show:boolean}> = ({handleDrawingMode, show})=>{\n  const ModesList = ModesData.map((data) => {\n    return (\n      <OptionContain key={data.name} onClick={() => { handleDrawingMode(data.name) }}>\n        <OptionImg src={data.image} alt={data.title} />\n        <OptionTitle>{data.title}</OptionTitle>\n      </OptionContain>\n    )\n  })\n  return(\n    <Container show={show}>\n      {ModesList}\n    </Container>\n  )\n}\n\nexport default DrawingMode","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import styled from 'styled-components'\n\nexport const AppContain = styled.div`\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    height: calc(100vh - 50px);\n`\n","import React, { Component } from 'react';\nimport Navbar from './Navbar'\nimport Settings from './Settings'\nimport CanvasRenderer from './CanvasRenderer'\nimport { Background } from './CanvasRenderer/styles'\nimport GridHelper from './GridHelper'\nimport AppProvider from './Context/AppProvider'\nimport DrawingMode from './DrawingMode'\nimport * as serviceWorker from './serviceWorker';\nimport { AppContain } from './styles'\ntype State = {\n  newVersionAvailable: boolean,\n  waitingWorker: ServiceWorker | null,\n  settings: {\n    stroke: string,\n    strokeColor: string,\n    background: string,\n    showGrid: boolean,\n    sections: number,\n    strokeWeight:number\n  },\n  drawingMode: string,\n  showDrawingMode: boolean,\n  data: []|ImageData[]\n}\nclass App extends Component<{}, State> {\n  state: State = {\n    newVersionAvailable: false,\n    waitingWorker: null,\n    settings: {\n      stroke: 'Near Point',\n      strokeColor: '#000000',\n      background: '#ffffff',\n      showGrid: true,\n      sections: 10,\n      strokeWeight: 1\n    },\n    data:[],\n    drawingMode: 'Rotation',\n    showDrawingMode: false\n  }\n\n  componentDidMount = () => {\n    // const { enqueueSnackbar } = this.props;\n    const { newVersionAvailable } = this.state;\n    if (process.env.NODE_ENV === 'production') {\n        console.log('production is runing');\n        serviceWorker.register({ onUpdate: this.onServiceWorkerUpdate });\n    }\n    if (newVersionAvailable){\n      console.log('new version avalable 2');\n      \n    } //show snackbar with refresh button\n  };\n\n  handleSettings = (option: string | any, value: string) => {\n    const { settings } = this.state;\n    this.setState({\n      settings: {\n        ...settings,\n        [option]: value\n      }\n    });\n  }\n\n  handleDrawingMode = (drawingMode: string) => {\n    this.setState({\n      drawingMode,\n      showDrawingMode: false\n    })\n    this.clearData()\n  }\n\n  displayDrawingMode = () => {\n    const { showDrawingMode } = this.state;\n    this.setState({\n      showDrawingMode: !showDrawingMode\n    })\n  }\n\n  updateData = (imgData: ImageData) => {\n    const { data } = this.state;\n    this.setState({\n      data:[...data,imgData]\n    })\n  }\n\n  reCalData = (drawState:number) => {    \n    const { data } = this.state;\n    const len = data.length - 1\n    const newData = data.slice(0,len - drawState )\n    this.setState({\n      data:[...newData,data[data.length-1] ]\n    })\n  }\n\n  clearData = () => {\n    this.setState({\n      data:[]\n    })\n  }\n\n  onServiceWorkerUpdate = (registration: ServiceWorkerRegistration) => {\n    this.setState({\n      waitingWorker: registration && registration.waiting,\n      newVersionAvailable: true,\n    });\n  };\n\n  updateServiceWorker = () => {\n    const { waitingWorker } = this.state;\n    waitingWorker && waitingWorker.postMessage({ type: \"SKIP_WAITING\" });\n    this.setState({ newVersionAvailable: false });\n    window.location.reload();\n  };\n\n  render() {\n    const { settings, drawingMode, showDrawingMode, data } = this.state;\n    const { stroke, strokeColor, background, showGrid, sections, strokeWeight } = settings;\n    const grid: JSX.Element | [] = showGrid ? <GridHelper mode={drawingMode} sections={sections} /> : [];\n    return (\n      <AppProvider\n        value={{\n          // states\n          settings: settings,\n          data: data,\n          showDrawingMode:showDrawingMode,\n          // methods\n          handleSettings: this.handleSettings,\n          displayDrawingMode: this.displayDrawingMode\n        }}>\n        <Navbar />\n        <DrawingMode handleDrawingMode={this.handleDrawingMode} show={showDrawingMode} />\n        <AppContain>\n          <Background color={background} />\n          {grid}\n          <CanvasRenderer mode={drawingMode} stroke={stroke} strokeColor={strokeColor} sections={sections} updateData={this.updateData} strokeWeight={strokeWeight} />\n          <Settings data={data} settings={settings} reCalData={this.reCalData} clearData={this.clearData} mode={drawingMode}  />\n        </AppContain>\n      </AppProvider>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}