(this.webpackJsonpcaleido=this.webpackJsonpcaleido||[]).push([[0],{19:function(e,n,t){e.exports=t(30)},24:function(e,n,t){},30:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(14),i=t.n(o),c=(t(24),t(12)),s=t(8),l=t(3),u=t(4),d=t(6),p=t(5),h=t(7),f=t(1),g=t(2);function x(){var e=Object(f.a)(["\n    font-weight: 900;\n    margin-top: 5px;\n    user-select: none;\n    font-size: 19px;\n    -webkit-text-stroke-width: 1px;\n    -webkit-text-stroke-color: #282828;\n    color: #282828;\n    -webkit-letter-spacing: 5px;\n    -moz-letter-spacing: 5px;\n    -ms-letter-spacing: 5px;\n    letter-spacing: 5px;\n\n"]);return x=function(){return e},e}function v(){var e=Object(f.a)(["\n    position: relative;\n    width: 27px;\n    height: 27px;\n    margin-top: 2px;\n\n"]);return v=function(){return e},e}function m(){var e=Object(f.a)(["\n    position: relative;\n    width: 100%;\n    height: 50px;\n    border-bottom: 1px solid #f1f1f1;\n    display: flex;\n    justify-content:space-between;\n    padding: 9px;\n"]);return m=function(){return e},e}var b=g.a.div(m()),w=g.a.div(v()),k=g.a.div(x()),y=r.a.createContext({}),E=function(){return r.a.createElement(y.Consumer,null,(function(e){return r.a.createElement(w,{onClick:e.displayDrawingMode},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.a.createElement("path",{fill:e.showDrawingMode?"#4f73f9":"#000",d:"M432 176H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16zM432 272H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16zM432 368H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16z"})))}))},O=function(){return r.a.createElement(b,null,r.a.createElement(E,null),r.a.createElement(k,null,"CALEIDO"))};function j(){var e=Object(f.a)(["\n  display:flex;\n  width: 141px;\n  flex-direction: row;\n  justify-content: space-between;\n\n"]);return j=function(){return e},e}function S(){var e=Object(f.a)(["\n  width: 35px;\n  height: 26px;\n  border: 1px solid #d2d2d2;\n  border-radius: 4px;\n  font-size: 12px;\n  text-align: center;\n  padding-top: 3px;\n  color: #4f74f9;\n  font-weight: 500;\n\n"]);return S=function(){return e},e}function D(){var e=Object(f.a)(["\n  -webkit-appearance: none;\n  background-color: #4f74f9;\n  width: 90px;\n  float: right;\n  height: 4px;\n  margin-top: 10px;\n  border-radius: 13px;\n  margin-right: 7px;\n  outline: 0;\n  &:focus{\n      outline: none;\n    }\n  ::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    background-color: #ffffff;\n    width: 14px;\n    height: 14px;\n    border-radius: 50%;\n    cursor: pointer;\n    box-shadow: 0px 0px 7px -2px rgba(0, 0, 0, 1);\n    transition: 0.3s ease-in-out;\n  }\n  ::-webkit-slider-thumb:active {\n    transform: scale(1.3);\n  }\n"]);return D=function(){return e},e}function C(){var e=Object(f.a)(["\n    width: 35px;\n    height: 26px;\n    border:none;\n    border-right: 1px solid #d1d1d1;\n    background-color: ",';\n    cursor: pointer;\n    transition: 0.3s;\n\n    &::before {\n      content: "";\n      position: absolute;\n      background-color: ',";\n      width: ",";\n      height: ",";\n      margin-left:  ",";\n      margin-top:  ",";\n      border-radius:50%;\n    }\n\n    &:focus{\n      outline: none;\n    }\n\n"]);return C=function(){return e},e}function M(){var e=Object(f.a)(["\n    width: 141px;\n    height: 26px;\n    border: 1px solid #d1d1d1;\n    border-right: none;\n    border-radius: 4px;\n    margin-right: 2px;\n    display:flex;\n    overflow:hidden;\n\n"]);return M=function(){return e},e}function R(){var e=Object(f.a)(["\n    width: 45px;\n    height: 24px;\n    border: 1px solid #d2d2d2;\n    border-radius: 4px;\n    border: none;\n    box-shadow: inset 0 0 1px #000;\n    background:",";\n    cursor:",";\n    &:focus{\n      outline: none;\n    }\n    &::before {\n      content: '","';\n      color: #fff;\n      position: absolute;\n      background-color: #000;\n      width: auto;\n      height: 19px;\n      padding: 3px 7px 1px 7px;\n      margin: -30px 0px 0px ",";\n      border-radius: 4px;\n      display:none;\n      box-shadow: 0px 0px 12px -5px rgba(0,0,0,0.75);\n    }\n    &:hover{\n      &::before {\n        display:initial;\n      }\n    }\n\n\n\n"]);return R=function(){return e},e}function z(){var e=Object(f.a)(['\n  position: relative;\n  cursor: pointer;\n  -webkit-tap-highlight-color: transparent;\n    i {\n    position: relative;\n    display: inline-block;\n    margin-right: 0.5rem;\n    width: 44px;\n    height: 24px;\n    background-color: #d1d1d1;\n    border-radius: 23px;\n    vertical-align: text-bottom;\n    transition: all 0.3s linear;\n  }\n  i::before {\n    content: "";\n    position: absolute;\n    left: 0;\n    width: 42px;\n    height: 22px;\n    background-color: #d1d1d1;\n    border-radius: 12px;\n    transform: translate3d(2px, 2px, 0) scale3d(1, 1, 1);\n    transition: all 0.25s linear;\n  }\n  i::after {\n    content: "";\n    position: absolute;\n    left: -1px;\n    width: 20px;\n    height: 20px;\n    background-color: #ececec;\n    border-radius: 12px;\n    box-shadow: 0 2px 2px rgba(0, 0, 0, 0.24);\n    transform: translate3d(2px, 2px, 0);\n    transition: all 0.2s ease-in-out;\n  }\n  :active i::after {\n    width: 28px;\n    transform: translate3d(2px, 2px, 0);\n  }\n  :active input:checked + i::after {\n    transform: translate3d(16px, 2px, 0);\n  }\n  input {\n    position: absolute;\n    opacity: 0;\n    pointer-events: none;\n  }\n  input:checked + i {\n    background-color: #4f74f9;\n  }\n  input:checked + i::before {\n    transform: translate3d(18px, 2px, 0) scale3d(0, 0, 0);\n  }\n  input:checked + i::after {\n    transform: translate3d(22px, 2px, 0);\n  }\n']);return z=function(){return e},e}function H(){var e=Object(f.a)(["\n    width: 141px;\n    position: absolute;\n    height: 26px;\n    border: 1px solid #d1d1d1;\n    border-radius: 4px;\n    z-index:1;\n    top: 14px;\n    font-weight: 600;\n    font-size: 12px;\n    padding-top: 4px;\n    padding-left: 9px;\n    background:",";\n    color: ",";\n"]);return H=function(){return e},e}function q(){var e=Object(f.a)(["\n    width: 141px;\n    height: 26px;\n    border: 1px solid #d1d1d1;\n    border-radius: 4px;\n    position: relative;\n    margin-right: 2px;\n    z-index:2;\n    opacity:0;\n    cursor: pointer;\n"]);return q=function(){return e},e}function W(){var e=Object(f.a)(["\n    margin-right: 2px;\n    width: 141px;\n    border: 1px solid #d1d1d1;\n    color: #5670ff;\n    outline: 0;\n    height: 26px;\n    border-radius: 2px;\n    line-height: 10px;\n    font-size: 10px;\n"]);return W=function(){return e},e}function P(){var e=Object(f.a)(["\n    font-weight: 700;\n    user-select: none;\n    color: #535353;\n    margin-top: 4px;\n    font-size: 12px;\n\n"]);return P=function(){return e},e}function T(){var e=Object(f.a)(["\n    position: relative;\n    width: 250px;\n    height: 50px;\n    display: flex;\n    padding-top: 13px;\n    padding-left: 5px;\n    padding-right: 5px;\n    justify-content: space-between;\n    border-bottom: 1px solid #f1f1f1;\n"]);return T=function(){return e},e}function K(){var e=Object(f.a)(["\n    position: relative;\n    width: 250px;\n    height: 100%;\n    background:#ffffff;\n    border-left: 1px solid #f1f1f1;\n"]);return K=function(){return e},e}var L=g.a.div(K()),G=g.a.div(T()),I=g.a.label(P()),B=g.a.select(W()),A=g.a.input(q()),N=g.a.div(H(),(function(e){return e.background}),(function(e){return e.color})),U=g.a.label(z()),V=g.a.button(R(),(function(e){return e.background}),(function(e){return e.disabled?"not-allowed":"pointer"}),(function(e){return"".concat(e.content)}),(function(e){return"-".concat(e.content.length,"%")})),F=g.a.div(M()),J=g.a.button(C(),(function(e){return e.active?"#4f73f9":"#fff"}),(function(e){return e.active?"#fff":"#000"}),(function(e){return e.radius+"px"}),(function(e){return e.radius+"px"}),(function(e){return-e.radius/2+"px"}),(function(e){return-e.radius/2-1+"px"})),X=g.a.input(D()),Y=g.a.div(S()),$=g.a.div(j()),Q=function(){return r.a.createElement(y.Consumer,null,(function(e){return r.a.createElement(G,null,r.a.createElement(I,{htmlFor:"stroke"},"Stroke"),r.a.createElement(B,{id:"stroke",value:e.settings.stroke,onChange:function(n){e.handleSettings("stroke",n.target.value)}},r.a.createElement("option",{value:"Line"},"Line"),r.a.createElement("option",{value:"Near Point"},"Near Point")))}))},Z=function(e,n,t){return{x:e-t.x,y:n-t.y}},_=function(e,n,t,a){var r=e-t,o=n-a;return Math.sqrt(r*r+o*o)},ee=function(e,n,t){var a=Math.floor(e/t),r=Math.floor(n/t);return a%2===0&&(a+=1),r%2===0&&(r+=1),{x:a,y:r}},ne=function(e,n,t,a,r){var o=Math.floor(n/112.5),i={x:0,y:0},c=325;c=o%2?130:325;for(var s=o;s<=o+1;s++){for(var l=c;l<a+c;l+=390){if(i)_(l,112.5*s,e,n)<_(i.x,i.y,e,n)&&(i={x:l,y:112.5*s});else i={x:l,y:112.5*s}}c=o%2?325:130}return i},te=2*Math.PI,ae=function(e){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:{r:0,g:0,b:0}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#000000",n=ae(e),t=1-(.299*n.r+.587*n.g+.114*n.b)/255;return t<.5?"black":"white"},oe=[{name:"Mirror",title:"Mirror",image:"https://raw.githubusercontent.com/pizza3/asset/master/mirror.png"},{name:"Rotation",title:"Rotation",image:"https://raw.githubusercontent.com/pizza3/asset/master/rotation.png"},{name:"Kaliedo",title:"Kaliedo",image:"https://raw.githubusercontent.com/pizza3/asset/master/kaliedo.png"},{name:"SquareRotation",title:"Square Rotation",image:"https://raw.githubusercontent.com/pizza3/asset/master/squarerotation.png"},{name:"SquareKaliedo",title:"Square Kaliedo",image:"https://raw.githubusercontent.com/pizza3/asset/master/squarekaliedo.png"},{name:"Hexagon",title:"Hexagon",image:"https://raw.githubusercontent.com/pizza3/asset/master/hexagon.png"},{name:"HexagonRotation",title:"Hexagon Rotation",image:"https://raw.githubusercontent.com/pizza3/asset/master/hexagonrotation.png"},{name:"HexagonKaliedo",title:"Hexagon Kaliedo",image:"https://raw.githubusercontent.com/pizza3/asset/master/hexagonkaliedo.png"}],ie=function(e){var n=e.title,t=e.keyValue;return r.a.createElement(y.Consumer,null,(function(e){var a=e.settings[t];return r.a.createElement(G,null,r.a.createElement(I,{htmlFor:t},n),r.a.createElement("div",null,r.a.createElement(A,{id:t,type:"color",value:a,onChange:function(n){e.handleSettings(t,n.target.value)}}),r.a.createElement(N,{background:a,color:re(a)},a)))}))},ce=function(){return r.a.createElement(y.Consumer,null,(function(e){return r.a.createElement(G,null,r.a.createElement(I,{htmlFor:"grid"},"Grid"),r.a.createElement(U,null,r.a.createElement("input",{id:"grid",type:"checkbox",checked:e.settings.showGrid,onChange:function(n){e.handleSettings("showGrid",n.target.checked)}}),r.a.createElement("i",null)))}))},se=function(e){function n(){var e,t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).state={drawState:0},t.canvas=document.getElementById("canvasRender"),t.ctx=null,t.width=0,t.height=0,t.clearCanvas=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.canvas=document.getElementById("canvasRender"),t.ctx=t.canvas.getContext("2d"),t.ctx.restore(),t.ctx.setTransform(1,0,0,1,0,0),t.ctx.clearRect(0,0,t.ctx.canvas.width,t.ctx.canvas.height),e&&(t.props.clearData(),t.setState({drawState:0}))},t.downloadImage=function(){var e=t.props,n=e.data,a=e.settings;t.canvas=document.getElementById("canvasRender"),t.ctx=t.canvas.getContext("2d");n[n.length-1],a.background;var r=t.ctx.toDataURL();console.log(r)},t.undoCanvas=function(){var e=t.props.data,n=t.state.drawState,a=e.length-1;t.clearCanvas(),t.setState({drawState:n+1},(function(){var n=e[a-t.state.drawState];n?t.ctx.putImageData(n,0,0):t.clearCanvas()}))},t.redoCanvas=function(){var e=t.props.data,n=t.state.drawState,a=e.length-1;t.clearCanvas(),t.setState({drawState:n-1},(function(){var n=e[a-t.state.drawState];n?t.ctx.putImageData(n,0,0):t.clearCanvas()}))},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"componentDidUpdate",value:function(e){var n=this.props.data,t=this.state.drawState;n.length!==e.data.length&&0!==t&&(this.setState({drawState:0}),this.props.reCalData(t))}},{key:"render",value:function(){var e=this,n=this.props.data,t=this.state.drawState,a=!(n.length>0)||n.length===t,o=0===t;return r.a.createElement(G,null,r.a.createElement(V,{background:"#ff5a5a",disabled:!1,content:"Clear","aria-label":"Clear",onClick:function(){e.clearCanvas(!0)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:{width:"19px"}},r.a.createElement("path",{fill:"#ffffff",d:"M133.1 128l23.6 290.7c0 16.2 13.1 29.3 29.3 29.3h141c16.2 0 29.3-13.1 29.3-29.3L379.6 128H133.1zm61.6 265L188 160h18.5l6.9 233h-18.7zm70.3 0h-18V160h18v233zm52.3 0h-18.6l6.8-233H324l-6.7 233zM364 92h-36l-26.3-23c-3.7-3.2-8.4-5-13.2-5h-64.8c-4.9 0-9.7 1.8-13.4 5L184 92h-36c-17.6 0-30 8.4-30 26h276c0-17.6-12.4-26-30-26z"}))),r.a.createElement(V,{background:"#4f73f9",disabled:!1,content:"Download Image","aria-label":"Download Image",onClick:this.downloadImage},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:{width:"19px"}},r.a.createElement("path",{fill:"#ffffff",d:"M403.002 217.001C388.998 148.002 328.998 96 256 96c-57.998 0-107.998 32.998-132.998 81.001C63.002 183.002 16 233.998 16 296c0 65.996 53.999 120 120 120h260c55 0 100-45 100-100 0-52.998-40.996-96.001-92.998-98.999zM224 268v-76h64v76h68L256 368 156 268h68z"}))),r.a.createElement(V,{background:a?"#d8d8d8":"#fff",disabled:a,content:"Undo","aria-label":"Undo",onClick:this.undoCanvas},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:{width:"19px"}},r.a.createElement("path",{fill:a?"#737373":"#4f73f9",d:"M70.5 265.4l59.6-59.4c2.6-2.6 6.1-4.1 9.9-4.1 3.7 0 7.3 1.4 9.9 4.1 2.6 2.6 4.1 6.1 4.1 9.9s-1.5 7.3-4.1 9.9l-.1.1-41.1 40.1H370c13.2 0 25.8-5.2 35.3-14.7 9.5-9.4 14.7-21.9 14.7-35.3v-48c0-7.7 6.3-14 14-14s14 6.3 14 14v48c0 20.8-8.1 40.3-22.9 55.1-14.8 14.8-34.3 22.9-55.1 22.9H108.3l39.6 40.2c2.6 2.6 4.1 6.1 4.1 9.9 0 3.7-1.4 7.3-4.1 9.9l-.1.1c-2.7 2.5-6.2 3.9-9.8 3.9-3.9 0-7.3-1.4-9.9-4.1l-57.6-57.4c-4.2-4.2-6.5-9.8-6.5-15.7 0-5.8 2.3-11.3 6.5-15.4z"}))),r.a.createElement(V,{background:o?"#d8d8d8":"#fff",disabled:o,content:"Redo","aria-label":"Redo",onClick:this.redoCanvas},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:{width:"19px"}},r.a.createElement("path",{fill:o?"#737373":"#4f73f9",d:"M441.5 265.4L381.9 206c-2.6-2.6-6.1-4.1-9.9-4.1-3.7 0-7.3 1.4-9.9 4.1-2.6 2.6-4.1 6.1-4.1 9.9s1.5 7.3 4.1 9.9l.1.1 41.1 40.1H142c-13.2 0-25.8-5.2-35.3-14.7-9.5-9.5-14.7-22-14.7-35.3v-48c0-7.7-6.3-14-14-14s-14 6.3-14 14v48c0 20.8 8.1 40.3 22.9 55.1 14.8 14.8 34.3 22.9 55.1 22.9h261.7L364 334.2c-2.6 2.6-4.1 6.1-4.1 9.9 0 3.7 1.4 7.3 4.1 9.9l.1.1c2.7 2.5 6.2 3.9 9.8 3.9 3.9 0 7.3-1.4 9.9-4.1l57.6-57.4c4.2-4.2 6.5-9.8 6.5-15.7.1-5.8-2.2-11.3-6.4-15.4z"}))))}}]),n}(a.Component),le=function(){return r.a.createElement(y.Consumer,null,(function(e){return r.a.createElement(G,null,r.a.createElement(I,null,"Stroke Weight"),r.a.createElement(F,null,r.a.createElement(J,{radius:5,active:0===e.settings.strokeWeight,onClick:function(){e.handleSettings("strokeWeight",0)}}),r.a.createElement(J,{radius:7,active:1===e.settings.strokeWeight,onClick:function(){e.handleSettings("strokeWeight",1)}}),r.a.createElement(J,{radius:9,active:2===e.settings.strokeWeight,onClick:function(){e.handleSettings("strokeWeight",2)}}),r.a.createElement(J,{radius:11,active:3===e.settings.strokeWeight,onClick:function(){e.handleSettings("strokeWeight",3)}})))}))},ue=function(){return r.a.createElement(y.Consumer,null,(function(e){return r.a.createElement(G,null,r.a.createElement(I,{htmlFor:"sections"},"Sections"),r.a.createElement($,null,r.a.createElement(Y,null,e.settings.sections),r.a.createElement(X,{id:"sections",type:"range",min:3,max:20,step:1,value:e.settings.sections,onChange:function(n){e.handleSettings("sections",n.target.value)}})))}))},de=function(e){function n(){return Object(l.a)(this,n),Object(d.a)(this,Object(p.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this.props,n=e.data,t=e.settings,a=e.reCalData,o=e.clearData,i=e.mode,c="Rotation"===i||"Kaliedo"===i?r.a.createElement(ue,null):[];return r.a.createElement(L,null,r.a.createElement(se,{data:n,settings:t,reCalData:a,clearData:o}),r.a.createElement(Q,null),r.a.createElement(ie,{title:"Stroke Color",keyValue:"strokeColor"}),r.a.createElement(ie,{title:"Background",keyValue:"background"}),r.a.createElement(ce,null),r.a.createElement(le,null),c)}}]),n}(a.Component);function pe(){var e=Object(f.a)(["\n    position: absolute;\n    width:100%;\n    height: 100%;\n    z-index:-1;\n    background: ",";\n"]);return pe=function(){return e},e}function he(){var e=Object(f.a)(["\n    width:calc(100% - 250px);\n    height: cala(100vh - 50px);\n    overflow:hidden;\n    position: relative;\n"]);return he=function(){return e},e}function fe(){var e=Object(f.a)(["\n    position: absolute;\n    cursor: crosshair;\n"]);return fe=function(){return e},e}var ge=g.a.canvas(fe()),xe=g.a.div(he()),ve=g.a.div(pe(),(function(e){return e.color})),me=function(e){function n(){var e,t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).state={isDrawing:!1},t.canvasRender=document.getElementById("canvasRender"),t.ctx=null,t.width=0,t.height=0,t.points=[],t.squaresections=130,t.isDrawing=!1,t.activeBlock={x:t.squaresections,y:t.squaresections},t.setRenderer=function(){t.canvasRender=document.getElementById("canvasRender"),t.ctx=t.canvasRender.getContext("2d"),t.canvasRender.width=t.width=window.innerWidth-250,t.canvasRender.height=t.height=window.innerHeight-50,t.ctx.lineJoin=t.ctx.lineCap="round",t.setModeTranformation()},t.setModeTranformation=function(){var e=t.props.mode;switch(t.points=[],e){case"Rotation":case"Kaliedo":t.resetRenderer(),t.ctx.translate(t.width/2,t.height/2);break;default:t.resetRenderer()}},t.resetRenderer=function(){t.ctx.restore(),t.ctx.setTransform(1,0,0,1,0,0),t.ctx.clearRect(0,0,t.ctx.canvas.width,t.ctx.canvas.height)},t.handleMouseMove=function(e){e.preventDefault(),e.persist(),t.isDrawing&&t.handleDrawingMode({x:e.clientX,y:e.clientY-50})},t.handleMouseDown=function(e){e.preventDefault(),e.persist(),t.pushPoints({x:e.clientX,y:e.clientY-50}),t.isDrawing=!0,t.selectNearestReferencePoint({x:e.clientX,y:e.clientY-50})},t.handleMouseLeave=function(e){e.preventDefault();var n=t.props.updateData;t.points.length>1&&n(t.ctx.getImageData(0,0,t.width,t.height));t.points=[],t.isDrawing=!1},t.handleDrawingMode=function(e){var n=t.props,a=n.mode,r=n.sections,o=te/r;if(t.pushPoints({x:e.x,y:e.y}),"Mirror"===a)t.handleStrokeType(),t.ctx.translate(t.width,0),t.ctx.scale(-1,1),t.handleStrokeType();else if("Kaliedo"===a||"Rotation"===a)for(var i=0;i<te;i+=o)t.ctx.setTransform(1,0,0,1,0,0),t.ctx.translate(t.width/2,t.height/2),t.ctx.rotate(i),t.handleStrokeType();else if("SquareRotation"===a||"SquareKaliedo"===a)for(var c=-t.squaresections;c<=t.height+t.squaresections;c+=2*t.squaresections)for(var s=-t.squaresections;s<=t.width+t.squaresections;s+=2*t.squaresections)for(var l=0;l<te;l+=te/4)t.ctx.restore(),t.ctx.setTransform(1,0,0,1,0,0),t.ctx.translate(s,c),t.ctx.rotate(l),t.handleStrokeType();else if("Hexagon"===a){var u=-1;t.ctx.restore();for(var d=-112.5;d<=t.height+112.5;d+=112.5){for(var p=u%2?130:-455;p<=t.width+390;p+=390)t.ctx.setTransform(1,0,0,1,0,0),t.ctx.translate(p,d),t.ctx.rotate(0),t.handleStrokeType();u++}}else if("HexagonRotation"===a||"HexagonKaliedo"===a){var h=0;t.ctx.restore();for(var f=0;f<=t.height+112.5;f+=112.5){for(var g=h%2?130:-455;g<=t.width+390;g+=390)for(var x=0;x<=te;x+=te/6)t.ctx.setTransform(1,0,0,1,0,0),t.ctx.translate(g,f),t.ctx.rotate(x),t.handleStrokeType();h++}}else t.handleStrokeType(),t.ctx.translate(t.width,0),t.ctx.scale(-1,1),t.handleStrokeType()},t.handleStrokeType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t.points.length;var n=t.props,a=n.mode,r=n.stroke,o=n.strokeColor,i=ae(o);if("Near Point"===r){t.ctx.lineWidth=1,t.ctx.strokeStyle="rgba(".concat(i.r,",").concat(i.g,",").concat(i.b,",0.1)");for(var c=0,s=t.points.length;c<s;c++){var l=t.points[c].x+e-(t.points[t.points.length-1].x+e),u=t.points[c].y-t.points[t.points.length-1].y,d=l*l+u*u,p=t.handleStrokeWeight();d<p&&(t.ctx.beginPath(),t.ctx.moveTo(t.points[t.points.length-1].x+e+.2*l,t.points[t.points.length-1].y+.2*u),t.ctx.lineTo(t.points[c].x+e-.2*l,t.points[c].y-.2*u),t.ctx.stroke(),"Kaliedo"!==a&&"HexagonKaliedo"!==a&&"SquareKaliedo"!==a||(t.ctx.beginPath(),t.ctx.moveTo(-t.points[t.points.length-1].x+.2*-l,t.points[t.points.length-1].y+.2*u),t.ctx.lineTo(-t.points[c].x-.2*-l,t.points[c].y-.2*u),t.ctx.stroke()))}}else t.ctx.lineWidth=t.handleStrokeWeight(),t.ctx.strokeStyle="rgba(".concat(i.r,",").concat(i.g,",").concat(i.b,",1)"),t.ctx.beginPath(),t.ctx.moveTo(t.points[t.points.length-2].x,t.points[t.points.length-2].y),t.ctx.lineTo(t.points[t.points.length-1].x,t.points[t.points.length-1].y),t.ctx.stroke(),"Kaliedo"!==a&&"HexagonKaliedo"!==a&&"SquareKaliedo"!==a||(t.ctx.beginPath(),t.ctx.moveTo(-t.points[t.points.length-2].x,t.points[t.points.length-2].y),t.ctx.lineTo(-t.points[t.points.length-1].x,t.points[t.points.length-1].y),t.ctx.stroke())},t.handleStrokeWeight=function(){var e=t.props,n=e.strokeWeight;return"Near Point"===e.stroke?0===n?250:1===n?500:2===n?750:1e3:0===n?1:1===n?5:1===n?10:15},t.selectNearestReferencePoint=function(e){var n=t.props.mode,a=ee(e.x,e.y,t.squaresections);"HexagonRotation"===n||"HexagonKaliedo"===n||"Hexagon"===n?(a=ne(e.x,e.y,t.squaresections,t.width,t.height),t.activeBlock={x:a.x,y:a.y}):t.activeBlock={x:a.x*t.squaresections,y:a.y*t.squaresections}},t.pushPoints=function(e){var n=t.props.mode;if("Rotation"===n||"Kaliedo"===n)t.points.push({x:e.x-t.width/2,y:e.y-t.height/2});else if("SquareRotation"===n||"SquareKaliedo"===n||"HexagonRotation"===n||"HexagonKaliedo"===n||"Hexagon"===n){var a=Z(e.x,e.y,t.activeBlock);t.points.push(a)}else t.points.push({x:e.x,y:e.y})},t.drawSquare=function(e,n,a){t.ctx.setTransform(1,0,0,1,0,0),t.ctx.translate(e,n),t.ctx.rotate(a),t.handleStrokeType()},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){this.setRenderer()}},{key:"componentDidUpdate",value:function(e){this.props.mode!==e.mode&&this.setModeTranformation()}},{key:"render",value:function(){return r.a.createElement(xe,null,r.a.createElement(ge,{id:"canvasRender",onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseLeave,onMouseLeave:this.handleMouseLeave}))}}]),n}(a.Component);function be(){var e=Object(f.a)(["\n    width:1px;\n    position: absolute;\n    height: 100%;\n    background:#e7e7e7;\n    bottom: 50%;\n    left:",";\n    transform-origin: bottom;\n    transform: ",";\n"]);return be=function(){return e},e}function we(){var e=Object(f.a)(["\n    width: 130px;\n    height: 1px;\n    background:#e7e7e7;\n    position: absolute;\n    transform-origin: left;\n    transform: ",";\n    left:",";\n    top:",";\n\n"]);return we=function(){return e},e}function ke(){var e=Object(f.a)(["\n    width: 367.7px;\n    height: 1px;\n    background:#e7e7e7;\n    position: absolute;\n    transform-origin: left;\n    transform: ",";\n    left:",";\n    top:",";\n\n"]);return ke=function(){return e},e}function ye(){var e=Object(f.a)(["\n    width: 8px;\n    position: absolute;\n    border-radius: 50%;\n    height: 8px;\n    background:#e7e7e7;\n    left:",";\n    top:",";\n"]);return ye=function(){return e},e}function Ee(){var e=Object(f.a)(["\n    width:1px;\n    position: absolute;\n    height: 100%;\n    background:#e7e7e7;\n    left:",";\n"]);return Ee=function(){return e},e}function Oe(){var e=Object(f.a)(["\n    width:100%;\n    position: absolute;\n    height: 1px;\n    background:#e7e7e7;\n    top:",";\n"]);return Oe=function(){return e},e}function je(){var e=Object(f.a)(["\n    position: absolute;\n    width:100%;\n    height: 100%;\n    z-index:0;\n    overflow:hidden;\n"]);return je=function(){return e},e}me.defaultProps={strokeColor:"#000000"};var Se=g.a.div(je()),De=g.a.div(Oe(),(function(e){return e.top+"px"})),Ce=g.a.div(Ee(),(function(e){return e.top+"px"})),Me=g.a.div(ye(),(function(e){return e.left+"px"}),(function(e){return e.top+"px"})),Re=g.a.div(ke(),(function(e){return"rotate(".concat(e.angle,"deg)")}),(function(e){return e.left+"px"}),(function(e){return e.top+"px"})),ze=g.a.div(we(),(function(e){return"rotate(".concat(e.angle,"deg)")}),(function(e){return e.left+"px"}),(function(e){return e.top+"px"})),He=g.a.div(be(),(function(e){return e.left+"px"}),(function(e){return"rotate(".concat(e.angle,"deg)")})),qe=function(e){function n(){var e,t;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(o)))).renderGrid=function(){var e=[];switch(t.props.mode){case"Mirror":e=t.mirrorGrid();break;case"Rotation":case"Kaliedo":e=t.rotationalGrid();break;case"SquareRotation":case"SquareKaliedo":e=t.squareGrid();break;case"Hexagon":e=t.hexagonGrid();break;case"HexagonRotation":case"HexagonKaliedo":e=t.triangleGrid();break;default:e=t.mirrorGrid()}return e},t.mirrorGrid=function(){var e=window.innerWidth-250;return r.a.createElement(Ce,{top:e/2})},t.rotationalGrid=function(){for(var e=window.innerWidth-250,n=t.props.sections,a=[],o=0;o<=360;o+=360/n)a.push(r.a.createElement(He,{key:"RotateLine"+o,left:e/2,angle:o}));return a},t.squareGrid=function(){for(var e=t.props.mode,n=window.innerWidth-250,a=window.innerHeight-50,o=[],i=[],c=[],s=[],l=130;l<=a+130;l+=130)o.push(r.a.createElement(De,{key:l+"HorizontalLine",top:l}));for(var u=130;u<=n+130;u+=130)i.push(r.a.createElement(Ce,{key:u+"VerticalLine",top:u}));for(var d=130;d<=a+130;d+=260)for(var p=130;p<=n+260;p+=260)c.push(r.a.createElement(Me,{key:"".concat(d).concat(p,"ReferencePoint"),top:d-4,left:p-4})),"SquareKaliedo"===e&&(s.push(r.a.createElement(Re,{angle:45,key:"".concat(d).concat(p,"Diagonal"),top:d-130,left:p-130})),s.push(r.a.createElement(Re,{angle:135,key:"".concat(d).concat(p,"Diagonal2"),top:d-130,left:p-130})));return[].concat(o,i,c,s)},t.triangleGrid=function(){for(var e=window.innerWidth-250,n=window.innerHeight-50,t=[],a=[],o=[],i=112.5;i<=n+112.5;i+=112.5)t.push(r.a.createElement(De,{key:i+"HorizontalLine",top:i}));for(var c=0,s=0;s<=n+112.5;s+=112.5){for(var l=c%2?0:65,u=0;u<=e+130;u+=130)o.push(r.a.createElement(ze,{angle:60,key:"".concat(u).concat(s,"Diagonal"),top:s,left:u-l})),o.push(r.a.createElement(ze,{angle:120,key:"".concat(u).concat(s,"Diagonal23"),top:s,left:u-l}));c++}for(var d=0,p=0;p<=n+112.5;p+=112.5){for(var h=d%2?130:325,f=0;f<=e+130;f+=390)a.push(r.a.createElement(Me,{key:"".concat(p).concat(f,"ReferencePoint"),top:p-4,left:f+h-4}));d++}return[].concat(t,o,a)},t.hexagonGrid=function(){for(var e=window.innerWidth-250,n=window.innerHeight-50,t=[],a=0,o=0;o<=n+112.5;o+=112.5){for(var i=a%2?0:65,c=130;c<=e+130;c+=390)i?(t.push(r.a.createElement(ze,{angle:60,key:"".concat(c).concat(o,"Diagonal"),top:o,left:130+c-i})),t.push(r.a.createElement(ze,{angle:120,key:"".concat(c).concat(o,"Diagonal23"),top:o,left:c-i})),t.push(r.a.createElement(ze,{angle:0,key:"".concat(c).concat(o,"Diagonal24"),top:o,left:c-i}))):(t.push(r.a.createElement(ze,{angle:60,key:"".concat(c).concat(o,"Diagonal"),top:o,left:c-i-130})),t.push(r.a.createElement(ze,{angle:120,key:"".concat(c).concat(o,"Diagonal23"),top:o,left:130+c-i})),t.push(r.a.createElement(ze,{angle:0,key:"".concat(c).concat(o,"Diagonal24"),top:o,left:130+c-i})));a++}return t},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(Se,null,this.renderGrid())}}]),n}(a.Component);qe.defaultProps={mode:"Mirror",sections:10};var We=qe,Pe=function(e){function n(){return Object(l.a)(this,n),Object(d.a)(this,Object(p.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this.props,n=e.value,t=e.children;return r.a.createElement(y.Provider,{value:n},t)}}]),n}(a.Component);function Te(){var e=Object(f.a)(["\n    font-size: 22px;\n    font-weight: 900;\n    user-select: none;\n\n"]);return Te=function(){return e},e}function Ke(){var e=Object(f.a)(["\n    width: 240px;\n    height: 160px;\n    user-select: none;\n\n"]);return Ke=function(){return e},e}function Le(){var e=Object(f.a)(["\n    position: relative;\n    width: 100%;\n    height:197px;\n    border-bottom: 1px solid #f1f1f1;\n    cursor: pointer;\n    padding: 4px;\n    color: #000;\n    background: #fff;\n    transition: 0.3s;\n    filter: grayscale(100%);\n\n    &:hover{\n        color: #4f73f9;\n        background: #000;\n        filter: grayscale(0%);\n\n    }\n"]);return Le=function(){return e},e}function Ge(){var e=Object(f.a)(["\n    position: fixed;\n    width: 250px;\n    height: 100vh;\n    border-right: 1px solid #f1f1f1;\n    background: #fff;\n    user-select: none;\n    display: flex;\n    flex-direction: column;\n    -webkit-overflow-scrolling: touch;\n    overflow: scroll;\n    z-index: 1;\n    padding-bottom:50px;\n    transition: 0.3s;\n    transform: ",";\n"]);return Ge=function(){return e},e}var Ie=g.a.div(Ge(),(function(e){return e.show?"translate(0px, 0px)":"translate(-250px, 0px)"})),Be=g.a.div(Le()),Ae=g.a.img(Ke()),Ne=g.a.div(Te()),Ue=function(e){var n=e.handleDrawingMode,t=e.show,a=oe.map((function(e){return r.a.createElement(Be,{key:e.name,onClick:function(){n(e.name)}},r.a.createElement(Ae,{src:e.image,alt:e.title}),r.a.createElement(Ne,null,e.title))}));return r.a.createElement(Ie,{show:t},a)};function Ve(){var e=Object(f.a)(["\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    height: calc(100vh - 50px);\n"]);return Ve=function(){return e},e}var Fe=g.a.div(Ve());function Je(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Xe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Je(t,!0).forEach((function(n){Object(s.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Je(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ye=function(e){function n(){var e,t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(r)))).state={settings:{stroke:"Near Point",strokeColor:"#000000",background:"#ffffff",showGrid:!0,sections:10,strokeWeight:1},data:[],drawingMode:"Rotation",showDrawingMode:!1},t.handleSettings=function(e,n){var a=t.state.settings;t.setState({settings:Xe({},a,Object(s.a)({},e,n))})},t.handleDrawingMode=function(e){t.setState({drawingMode:e,showDrawingMode:!1}),t.clearData()},t.displayDrawingMode=function(){var e=t.state.showDrawingMode;t.setState({showDrawingMode:!e})},t.updateData=function(e){var n=t.state.data;t.setState({data:[].concat(Object(c.a)(n),[e])})},t.reCalData=function(e){var n=t.state.data,a=n.length-1,r=n.slice(0,a-e);t.setState({data:[].concat(Object(c.a)(r),[n[n.length-1]])})},t.clearData=function(){t.setState({data:[]})},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this.state,n=e.settings,t=e.drawingMode,a=e.showDrawingMode,o=e.data,i=n.stroke,c=n.strokeColor,s=n.background,l=n.showGrid,u=n.sections,d=n.strokeWeight,p=l?r.a.createElement(We,{mode:t,sections:u}):[];return r.a.createElement(Pe,{value:{settings:n,data:o,showDrawingMode:a,handleSettings:this.handleSettings,displayDrawingMode:this.displayDrawingMode}},r.a.createElement(O,null),r.a.createElement(Ue,{handleDrawingMode:this.handleDrawingMode,show:a}),r.a.createElement(Fe,null,r.a.createElement(ve,{color:s}),p,r.a.createElement(me,{mode:t,stroke:i,strokeColor:c,sections:u,updateData:this.updateData,strokeWeight:d}),r.a.createElement(de,{data:o,settings:n,reCalData:this.reCalData,clearData:this.clearData,mode:t})))}}]),n}(a.Component),$e=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Qe(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(Ye,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/caleido",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/caleido","/service-worker.js");$e?(!function(e,n){fetch(e).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Qe(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Qe(n,e)}))}}()}},[[19,1,2]]]);
//# sourceMappingURL=main.8c7a34ff.chunk.js.map