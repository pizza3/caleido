(this.webpackJsonpcaleido=this.webpackJsonpcaleido||[]).push([[0],{19:function(e,t,n){e.exports=n(29)},29:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),i=n.n(o),c=n(12),s=n(8),l=n(3),u=n(4),d=n(6),p=n(5),h=n(7),f=n(1),g=n(2);function x(){var e=Object(f.a)(["\n    font-weight: 900;\n    margin-top: 5px;\n    user-select: none;\n    font-size: 19px;\n    -webkit-text-stroke-width: 1px;\n    -webkit-text-stroke-color: #282828;\n    color: #282828;\n    -webkit-letter-spacing: 5px;\n    -moz-letter-spacing: 5px;\n    -ms-letter-spacing: 5px;\n    letter-spacing: 5px;\n\n"]);return x=function(){return e},e}function v(){var e=Object(f.a)(["\n    position: relative;\n    width: 27px;\n    height: 27px;\n    margin-top: 2px;\n\n"]);return v=function(){return e},e}function m(){var e=Object(f.a)(["\n    position: relative;\n    width: 100%;\n    height: 50px;\n    border-bottom: 1px solid #f1f1f1;\n    display: flex;\n    justify-content:space-between;\n    padding: 9px;\n"]);return m=function(){return e},e}var b=g.a.div(m()),w=g.a.div(v()),k=g.a.div(x()),y=r.a.createContext({}),E=function(){return r.a.createElement(y.Consumer,null,(function(e){return r.a.createElement(w,{onClick:e.displayDrawingMode},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.a.createElement("path",{fill:e.showDrawingMode?"#4f73f9":"#000",d:"M432 176H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16zM432 272H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16zM432 368H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16z"})))}))},j=function(){return r.a.createElement(b,null,r.a.createElement(E,null),r.a.createElement(k,null,"CALEIDO"))};function O(){var e=Object(f.a)(["\n  display:flex;\n  width: 141px;\n  flex-direction: row;\n  justify-content: space-between;\n\n"]);return O=function(){return e},e}function S(){var e=Object(f.a)(["\n  width: 35px;\n  height: 26px;\n  border: 1px solid #d2d2d2;\n  border-radius: 4px;\n  font-size: 12px;\n  text-align: center;\n  padding-top: 3px;\n  color: #4f74f9;\n  font-weight: 500;\n\n"]);return S=function(){return e},e}function D(){var e=Object(f.a)(["\n  -webkit-appearance: none;\n  background-color: #4f74f9;\n  width: 90px;\n  float: right;\n  height: 4px;\n  margin-top: 10px;\n  border-radius: 13px;\n  margin-right: 7px;\n  outline: 0;\n  &:focus{\n      outline: none;\n    }\n  ::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    background-color: #ffffff;\n    width: 14px;\n    height: 14px;\n    border-radius: 50%;\n    cursor: pointer;\n    box-shadow: 0px 0px 7px -2px rgba(0, 0, 0, 1);\n    transition: 0.3s ease-in-out;\n  }\n  ::-webkit-slider-thumb:active {\n    transform: scale(1.3);\n  }\n"]);return D=function(){return e},e}function C(){var e=Object(f.a)(["\n    width: 35px;\n    height: 26px;\n    border:none;\n    border-right: 1px solid #d1d1d1;\n    background-color: ",';\n    cursor: pointer;\n    transition: 0.3s;\n\n    &::before {\n      content: "";\n      position: absolute;\n      background-color: ',";\n      width: ",";\n      height: ",";\n      margin-left:  ",";\n      margin-top:  ",";\n      border-radius:50%;\n    }\n\n    &:focus{\n      outline: none;\n    }\n\n"]);return C=function(){return e},e}function M(){var e=Object(f.a)(["\n    width: 141px;\n    height: 26px;\n    border: 1px solid #d1d1d1;\n    border-right: none;\n    border-radius: 4px;\n    margin-right: 2px;\n    display:flex;\n    overflow:hidden;\n\n"]);return M=function(){return e},e}function R(){var e=Object(f.a)(["\n    width: 45px;\n    height: 24px;\n    border: 1px solid #d2d2d2;\n    border-radius: 4px;\n    border: none;\n    box-shadow: inset 0 0 1px #000;\n    background:",";\n    cursor:",";\n    &:focus{\n      outline: none;\n    }\n    &::before {\n      content: '","';\n      color: #fff;\n      position: absolute;\n      background-color: #000;\n      width: auto;\n      height: 19px;\n      padding: 3px 7px 1px 7px;\n      margin: -30px 0px 0px ",";\n      border-radius: 4px;\n      display:none;\n      box-shadow: 0px 0px 12px -5px rgba(0,0,0,0.75);\n    }\n    &:hover{\n      &::before {\n        display:initial;\n      }\n    }\n\n\n\n"]);return R=function(){return e},e}function z(){var e=Object(f.a)(['\n  position: relative;\n  cursor: pointer;\n  -webkit-tap-highlight-color: transparent;\n    i {\n    position: relative;\n    display: inline-block;\n    margin-right: 0.5rem;\n    width: 44px;\n    height: 24px;\n    background-color: #d1d1d1;\n    border-radius: 23px;\n    vertical-align: text-bottom;\n    transition: all 0.3s linear;\n  }\n  i::before {\n    content: "";\n    position: absolute;\n    left: 0;\n    width: 42px;\n    height: 22px;\n    background-color: #d1d1d1;\n    border-radius: 12px;\n    transform: translate3d(2px, 2px, 0) scale3d(1, 1, 1);\n    transition: all 0.25s linear;\n  }\n  i::after {\n    content: "";\n    position: absolute;\n    left: -1px;\n    width: 20px;\n    height: 20px;\n    background-color: #ececec;\n    border-radius: 12px;\n    box-shadow: 0 2px 2px rgba(0, 0, 0, 0.24);\n    transform: translate3d(2px, 2px, 0);\n    transition: all 0.2s ease-in-out;\n  }\n  :active i::after {\n    width: 28px;\n    transform: translate3d(2px, 2px, 0);\n  }\n  :active input:checked + i::after {\n    transform: translate3d(16px, 2px, 0);\n  }\n  input {\n    position: absolute;\n    opacity: 0;\n    pointer-events: none;\n  }\n  input:checked + i {\n    background-color: #4f74f9;\n  }\n  input:checked + i::before {\n    transform: translate3d(18px, 2px, 0) scale3d(0, 0, 0);\n  }\n  input:checked + i::after {\n    transform: translate3d(22px, 2px, 0);\n  }\n']);return z=function(){return e},e}function W(){var e=Object(f.a)(["\n    width: 141px;\n    position: absolute;\n    height: 26px;\n    border: 1px solid #d1d1d1;\n    border-radius: 4px;\n    z-index:1;\n    top: 14px;\n    font-weight: 600;\n    font-size: 12px;\n    padding-top: 4px;\n    padding-left: 9px;\n    background:",";\n    color: ",";\n"]);return W=function(){return e},e}function H(){var e=Object(f.a)(["\n    width: 141px;\n    height: 26px;\n    border: 1px solid #d1d1d1;\n    border-radius: 4px;\n    position: relative;\n    margin-right: 2px;\n    z-index:2;\n    opacity:0;\n    cursor: pointer;\n"]);return H=function(){return e},e}function q(){var e=Object(f.a)(["\n    margin-right: 2px;\n    width: 141px;\n    border: 1px solid #d1d1d1;\n    color: #5670ff;\n    outline: 0;\n    height: 26px;\n    border-radius: 2px;\n    line-height: 10px;\n    font-size: 10px;\n"]);return q=function(){return e},e}function P(){var e=Object(f.a)(["\n    font-weight: 700;\n    user-select: none;\n    color: #535353;\n    margin-top: 4px;\n    font-size: 12px;\n\n"]);return P=function(){return e},e}function T(){var e=Object(f.a)(["\n    position: relative;\n    width: 250px;\n    height: 50px;\n    display: flex;\n    padding-top: 13px;\n    padding-left: 5px;\n    padding-right: 5px;\n    justify-content: space-between;\n    border-bottom: 1px solid #f1f1f1;\n"]);return T=function(){return e},e}function K(){var e=Object(f.a)(["\n    position: relative;\n    width: 250px;\n    height: 100%;\n    background:#ffffff;\n    border-left: 1px solid #f1f1f1;\n"]);return K=function(){return e},e}var L=g.a.div(K()),I=g.a.div(T()),G=g.a.label(P()),B=g.a.select(q()),A=g.a.input(H()),N=g.a.div(W(),(function(e){return e.background}),(function(e){return e.color})),U=g.a.label(z()),V=g.a.button(R(),(function(e){return e.background}),(function(e){return e.disabled?"not-allowed":"pointer"}),(function(e){return"".concat(e.content)}),(function(e){return"-".concat(e.content.length,"%")})),F=g.a.div(M()),J=g.a.button(C(),(function(e){return e.active?"#4f73f9":"#fff"}),(function(e){return e.active?"#fff":"#000"}),(function(e){return e.radius+"px"}),(function(e){return e.radius+"px"}),(function(e){return-e.radius/2+"px"}),(function(e){return-e.radius/2-1+"px"})),X=g.a.input(D()),Y=g.a.div(S()),$=g.a.div(O()),Q=function(){return r.a.createElement(y.Consumer,null,(function(e){return r.a.createElement(I,null,r.a.createElement(G,{htmlFor:"stroke"},"Stroke"),r.a.createElement(B,{id:"stroke",value:e.settings.stroke,onChange:function(t){e.handleSettings("stroke",t.target.value)}},r.a.createElement("option",{value:"Line"},"Line"),r.a.createElement("option",{value:"Near Point"},"Near Point")))}))},Z=function(e,t,n){return{x:e-n.x,y:t-n.y}},_=function(e,t,n,a){var r=e-n,o=t-a;return Math.sqrt(r*r+o*o)},ee=function(e,t,n){var a=Math.floor(e/n),r=Math.floor(t/n);return a%2===0&&(a+=1),r%2===0&&(r+=1),{x:a,y:r}},te=function(e,t,n,a,r){var o=Math.floor(t/112.5),i={x:0,y:0},c=325;c=o%2?130:325;for(var s=o;s<=o+1;s++){for(var l=c;l<a+c;l+=390){if(i)_(l,112.5*s,e,t)<_(i.x,i.y,e,t)&&(i={x:l,y:112.5*s});else i={x:l,y:112.5*s}}c=o%2?325:130}return i},ne=2*Math.PI,ae=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{r:0,g:0,b:0}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#000000",t=ae(e),n=1-(.299*t.r+.587*t.g+.114*t.b)/255;return n<.5?"black":"white"},oe=[{name:"Mirror",title:"Mirror",image:"https://raw.githubusercontent.com/pizza3/asset/master/mirror.jpg"},{name:"Rotation",title:"Rotation",image:"https://raw.githubusercontent.com/pizza3/asset/master/rotation.jpg"},{name:"Kaliedo",title:"Kaliedo",image:"https://raw.githubusercontent.com/pizza3/asset/master/kaliedo.jpg"},{name:"SquareRotation",title:"Square Rotation",image:"https://raw.githubusercontent.com/pizza3/asset/master/squarerotation.jpg"},{name:"SquareKaliedo",title:"Square Kaliedo",image:"https://raw.githubusercontent.com/pizza3/asset/master/squarekaliedo.jpg"},{name:"Hexagon",title:"Hexagon",image:"https://raw.githubusercontent.com/pizza3/asset/master/hexagon.jpg"},{name:"HexagonRotation",title:"Hexagon Rotation",image:"https://raw.githubusercontent.com/pizza3/asset/master/hexagonrotation.jpg"},{name:"HexagonKaliedo",title:"Hexagon Kaliedo",image:"https://raw.githubusercontent.com/pizza3/asset/master/hexagonkaliedo.jpg"}],ie=function(e){var t=e.title,n=e.keyValue;return r.a.createElement(y.Consumer,null,(function(e){var a=e.settings[n];return r.a.createElement(I,null,r.a.createElement(G,{htmlFor:n},t),r.a.createElement("div",null,r.a.createElement(A,{id:n,type:"color",value:a,onChange:function(t){e.handleSettings(n,t.target.value)}}),r.a.createElement(N,{background:a,color:re(a)},a)))}))},ce=function(){return r.a.createElement(y.Consumer,null,(function(e){return r.a.createElement(I,null,r.a.createElement(G,{htmlFor:"grid"},"Grid"),r.a.createElement(U,null,r.a.createElement("input",{id:"grid",type:"checkbox",checked:e.settings.showGrid,onChange:function(t){e.handleSettings("showGrid",t.target.checked)}}),r.a.createElement("i",null)))}))},se=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={drawState:0},n.canvas=document.getElementById("canvasRender"),n.ctx=null,n.width=0,n.height=0,n.clearCanvas=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.canvas=document.getElementById("canvasRender"),n.ctx=n.canvas.getContext("2d"),n.ctx.restore(),n.ctx.setTransform(1,0,0,1,0,0),n.ctx.clearRect(0,0,n.ctx.canvas.width,n.ctx.canvas.height),e&&(n.props.clearData(),n.setState({drawState:0}))},n.downloadImage=function(){var e=n.props.settings.background;n.canvas=document.getElementById("canvasRender"),n.ctx=n.canvas.getContext("2d");var t=document.createElement("canvas");t.width=n.canvas.width,t.height=n.canvas.height;var a=t.getContext("2d");a.fillStyle=e,a.fillRect(0,0,n.canvas.width,n.canvas.height),a.drawImage(n.canvas,0,0);var r=t.toDataURL("image/png"),o=document.createElement("a");o.download="caleido.png",o.href=r,o.click(),o.remove(),t.remove()},n.undoCanvas=function(){var e=n.props.data,t=n.state.drawState,a=e.length-1;n.clearCanvas(),n.setState({drawState:t+1},(function(){var t=e[a-n.state.drawState];t?n.ctx.putImageData(t,0,0):n.clearCanvas()}))},n.redoCanvas=function(){var e=n.props.data,t=n.state.drawState,a=e.length-1;n.clearCanvas(),n.setState({drawState:t-1},(function(){var t=e[a-n.state.drawState];t?n.ctx.putImageData(t,0,0):n.clearCanvas()}))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.data,n=this.state.drawState;t.length!==e.data.length&&0!==n&&(this.setState({drawState:0}),this.props.reCalData(n))}},{key:"render",value:function(){var e=this,t=this.props.data,n=this.state.drawState,a=!(t.length>0)||t.length===n,o=0===n;return r.a.createElement(I,null,r.a.createElement(V,{background:"#ff5a5a",disabled:!1,content:"Clear","aria-label":"Clear",onClick:function(){e.clearCanvas(!0)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:{width:"19px"}},r.a.createElement("path",{fill:"#ffffff",d:"M133.1 128l23.6 290.7c0 16.2 13.1 29.3 29.3 29.3h141c16.2 0 29.3-13.1 29.3-29.3L379.6 128H133.1zm61.6 265L188 160h18.5l6.9 233h-18.7zm70.3 0h-18V160h18v233zm52.3 0h-18.6l6.8-233H324l-6.7 233zM364 92h-36l-26.3-23c-3.7-3.2-8.4-5-13.2-5h-64.8c-4.9 0-9.7 1.8-13.4 5L184 92h-36c-17.6 0-30 8.4-30 26h276c0-17.6-12.4-26-30-26z"}))),r.a.createElement(V,{background:"#4f73f9",disabled:!1,content:"Download Image","aria-label":"Download Image",onClick:this.downloadImage},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:{width:"19px"}},r.a.createElement("path",{fill:"#ffffff",d:"M403.002 217.001C388.998 148.002 328.998 96 256 96c-57.998 0-107.998 32.998-132.998 81.001C63.002 183.002 16 233.998 16 296c0 65.996 53.999 120 120 120h260c55 0 100-45 100-100 0-52.998-40.996-96.001-92.998-98.999zM224 268v-76h64v76h68L256 368 156 268h68z"}))),r.a.createElement(V,{background:a?"#d8d8d8":"#fff",disabled:a,content:"Undo","aria-label":"Undo",onClick:this.undoCanvas},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:{width:"19px"}},r.a.createElement("path",{fill:a?"#737373":"#4f73f9",d:"M70.5 265.4l59.6-59.4c2.6-2.6 6.1-4.1 9.9-4.1 3.7 0 7.3 1.4 9.9 4.1 2.6 2.6 4.1 6.1 4.1 9.9s-1.5 7.3-4.1 9.9l-.1.1-41.1 40.1H370c13.2 0 25.8-5.2 35.3-14.7 9.5-9.4 14.7-21.9 14.7-35.3v-48c0-7.7 6.3-14 14-14s14 6.3 14 14v48c0 20.8-8.1 40.3-22.9 55.1-14.8 14.8-34.3 22.9-55.1 22.9H108.3l39.6 40.2c2.6 2.6 4.1 6.1 4.1 9.9 0 3.7-1.4 7.3-4.1 9.9l-.1.1c-2.7 2.5-6.2 3.9-9.8 3.9-3.9 0-7.3-1.4-9.9-4.1l-57.6-57.4c-4.2-4.2-6.5-9.8-6.5-15.7 0-5.8 2.3-11.3 6.5-15.4z"}))),r.a.createElement(V,{background:o?"#d8d8d8":"#fff",disabled:o,content:"Redo","aria-label":"Redo",onClick:this.redoCanvas},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:{width:"19px"}},r.a.createElement("path",{fill:o?"#737373":"#4f73f9",d:"M441.5 265.4L381.9 206c-2.6-2.6-6.1-4.1-9.9-4.1-3.7 0-7.3 1.4-9.9 4.1-2.6 2.6-4.1 6.1-4.1 9.9s1.5 7.3 4.1 9.9l.1.1 41.1 40.1H142c-13.2 0-25.8-5.2-35.3-14.7-9.5-9.5-14.7-22-14.7-35.3v-48c0-7.7-6.3-14-14-14s-14 6.3-14 14v48c0 20.8 8.1 40.3 22.9 55.1 14.8 14.8 34.3 22.9 55.1 22.9h261.7L364 334.2c-2.6 2.6-4.1 6.1-4.1 9.9 0 3.7 1.4 7.3 4.1 9.9l.1.1c2.7 2.5 6.2 3.9 9.8 3.9 3.9 0 7.3-1.4 9.9-4.1l57.6-57.4c4.2-4.2 6.5-9.8 6.5-15.7.1-5.8-2.2-11.3-6.4-15.4z"}))))}}]),t}(a.Component),le=function(){return r.a.createElement(y.Consumer,null,(function(e){return r.a.createElement(I,null,r.a.createElement(G,null,"Stroke Weight"),r.a.createElement(F,null,r.a.createElement(J,{"aria-label":"Stroke Weight 1",radius:5,active:0===e.settings.strokeWeight,onClick:function(){e.handleSettings("strokeWeight",0)}}),r.a.createElement(J,{"aria-label":"Stroke Weight 2",radius:7,active:1===e.settings.strokeWeight,onClick:function(){e.handleSettings("strokeWeight",1)}}),r.a.createElement(J,{"aria-label":"Stroke Weight 3",radius:9,active:2===e.settings.strokeWeight,onClick:function(){e.handleSettings("strokeWeight",2)}}),r.a.createElement(J,{"aria-label":"Stroke Weight 4",radius:11,active:3===e.settings.strokeWeight,onClick:function(){e.handleSettings("strokeWeight",3)}})))}))},ue=function(){return r.a.createElement(y.Consumer,null,(function(e){return r.a.createElement(I,null,r.a.createElement(G,{htmlFor:"sections"},"Sections"),r.a.createElement($,null,r.a.createElement(Y,null,e.settings.sections),r.a.createElement(X,{id:"sections",type:"range",min:3,max:20,step:1,value:e.settings.sections,onChange:function(t){e.handleSettings("sections",t.target.value)}})))}))},de=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.settings,a=e.reCalData,o=e.clearData,i=e.mode,c="Rotation"===i||"Kaliedo"===i?r.a.createElement(ue,null):[];return r.a.createElement(L,null,r.a.createElement(se,{data:t,settings:n,reCalData:a,clearData:o}),r.a.createElement(Q,null),r.a.createElement(ie,{title:"Stroke Color",keyValue:"strokeColor"}),r.a.createElement(ie,{title:"Background",keyValue:"background"}),r.a.createElement(ce,null),r.a.createElement(le,null),c)}}]),t}(a.Component);function pe(){var e=Object(f.a)(["\n    position: absolute;\n    width:100%;\n    height: 100%;\n    z-index:-1;\n    background: ",";\n"]);return pe=function(){return e},e}function he(){var e=Object(f.a)(["\n    width:calc(100% - 250px);\n    height: cala(100vh - 50px);\n    overflow:hidden;\n    position: relative;\n"]);return he=function(){return e},e}function fe(){var e=Object(f.a)(["\n    position: absolute;\n    cursor: crosshair;\n"]);return fe=function(){return e},e}var ge=g.a.canvas(fe()),xe=g.a.div(he()),ve=g.a.div(pe(),(function(e){return e.color})),me=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isDrawing:!1},n.canvasRender=document.getElementById("canvasRender"),n.ctx=null,n.width=0,n.height=0,n.points=[],n.squaresections=130,n.isDrawing=!1,n.activeBlock={x:n.squaresections,y:n.squaresections},n.setRenderer=function(){n.canvasRender=document.getElementById("canvasRender"),n.ctx=n.canvasRender.getContext("2d"),n.canvasRender.width=n.width=window.innerWidth-250,n.canvasRender.height=n.height=window.innerHeight-50,n.ctx.lineJoin=n.ctx.lineCap="round",n.setModeTranformation()},n.setModeTranformation=function(){var e=n.props.mode;switch(n.points=[],e){case"Rotation":case"Kaliedo":n.resetRenderer(),n.ctx.translate(n.width/2,n.height/2);break;default:n.resetRenderer()}},n.resetRenderer=function(){n.ctx.restore(),n.ctx.setTransform(1,0,0,1,0,0),n.ctx.clearRect(0,0,n.ctx.canvas.width,n.ctx.canvas.height)},n.handleMouseMove=function(e){e.preventDefault(),e.persist(),n.isDrawing&&n.handleDrawingMode({x:e.clientX,y:e.clientY-50})},n.handleMouseDown=function(e){e.preventDefault(),e.persist(),n.pushPoints({x:e.clientX,y:e.clientY-50}),n.isDrawing=!0,n.selectNearestReferencePoint({x:e.clientX,y:e.clientY-50})},n.handleMouseLeave=function(e){e.preventDefault();var t=n.props.updateData;n.points.length>1&&t(n.ctx.getImageData(0,0,n.width,n.height));n.points=[],n.isDrawing=!1},n.handleDrawingMode=function(e){var t=n.props,a=t.mode,r=t.sections,o=ne/r;if(n.pushPoints({x:e.x,y:e.y}),"Mirror"===a)n.handleStrokeType(),n.ctx.translate(n.width,0),n.ctx.scale(-1,1),n.handleStrokeType();else if("Kaliedo"===a||"Rotation"===a)for(var i=0;i<ne;i+=o)n.ctx.setTransform(1,0,0,1,0,0),n.ctx.translate(n.width/2,n.height/2),n.ctx.rotate(i),n.handleStrokeType();else if("SquareRotation"===a||"SquareKaliedo"===a)for(var c=-n.squaresections;c<=n.height+n.squaresections;c+=2*n.squaresections)for(var s=-n.squaresections;s<=n.width+n.squaresections;s+=2*n.squaresections)for(var l=0;l<ne;l+=ne/4)n.ctx.restore(),n.ctx.setTransform(1,0,0,1,0,0),n.ctx.translate(s,c),n.ctx.rotate(l),n.handleStrokeType();else if("Hexagon"===a){var u=-1;n.ctx.restore();for(var d=-112.5;d<=n.height+112.5;d+=112.5){for(var p=u%2?130:-455;p<=n.width+390;p+=390)n.ctx.setTransform(1,0,0,1,0,0),n.ctx.translate(p,d),n.ctx.rotate(0),n.handleStrokeType();u++}}else if("HexagonRotation"===a||"HexagonKaliedo"===a){var h=0;n.ctx.restore();for(var f=0;f<=n.height+112.5;f+=112.5){for(var g=h%2?130:-455;g<=n.width+390;g+=390)for(var x=0;x<=ne;x+=ne/6)n.ctx.setTransform(1,0,0,1,0,0),n.ctx.translate(g,f),n.ctx.rotate(x),n.handleStrokeType();h++}}else n.handleStrokeType(),n.ctx.translate(n.width,0),n.ctx.scale(-1,1),n.handleStrokeType()},n.handleStrokeType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;n.points.length;var t=n.props,a=t.mode,r=t.stroke,o=t.strokeColor,i=ae(o);if("Near Point"===r){n.ctx.lineWidth=1,n.ctx.strokeStyle="rgba(".concat(i.r,",").concat(i.g,",").concat(i.b,",0.1)");for(var c=0,s=n.points.length;c<s;c++){var l=n.points[c].x+e-(n.points[n.points.length-1].x+e),u=n.points[c].y-n.points[n.points.length-1].y,d=l*l+u*u,p=n.handleStrokeWeight();d<p&&(n.ctx.beginPath(),n.ctx.moveTo(n.points[n.points.length-1].x+e+.2*l,n.points[n.points.length-1].y+.2*u),n.ctx.lineTo(n.points[c].x+e-.2*l,n.points[c].y-.2*u),n.ctx.stroke(),"Kaliedo"!==a&&"HexagonKaliedo"!==a&&"SquareKaliedo"!==a||(n.ctx.beginPath(),n.ctx.moveTo(-n.points[n.points.length-1].x+.2*-l,n.points[n.points.length-1].y+.2*u),n.ctx.lineTo(-n.points[c].x-.2*-l,n.points[c].y-.2*u),n.ctx.stroke()))}}else n.ctx.lineWidth=n.handleStrokeWeight(),n.ctx.strokeStyle="rgba(".concat(i.r,",").concat(i.g,",").concat(i.b,",1)"),n.ctx.beginPath(),n.ctx.moveTo(n.points[n.points.length-2].x,n.points[n.points.length-2].y),n.ctx.lineTo(n.points[n.points.length-1].x,n.points[n.points.length-1].y),n.ctx.stroke(),"Kaliedo"!==a&&"HexagonKaliedo"!==a&&"SquareKaliedo"!==a||(n.ctx.beginPath(),n.ctx.moveTo(-n.points[n.points.length-2].x,n.points[n.points.length-2].y),n.ctx.lineTo(-n.points[n.points.length-1].x,n.points[n.points.length-1].y),n.ctx.stroke())},n.handleStrokeWeight=function(){var e=n.props,t=e.strokeWeight;return"Near Point"===e.stroke?0===t?250:1===t?500:2===t?750:1e3:0===t?1:1===t?5:1===t?10:15},n.selectNearestReferencePoint=function(e){var t=n.props.mode,a=ee(e.x,e.y,n.squaresections);"HexagonRotation"===t||"HexagonKaliedo"===t||"Hexagon"===t?(a=te(e.x,e.y,n.squaresections,n.width,n.height),n.activeBlock={x:a.x,y:a.y}):n.activeBlock={x:a.x*n.squaresections,y:a.y*n.squaresections}},n.pushPoints=function(e){var t=n.props.mode;if("Rotation"===t||"Kaliedo"===t)n.points.push({x:e.x-n.width/2,y:e.y-n.height/2});else if("SquareRotation"===t||"SquareKaliedo"===t||"HexagonRotation"===t||"HexagonKaliedo"===t||"Hexagon"===t){var a=Z(e.x,e.y,n.activeBlock);n.points.push(a)}else n.points.push({x:e.x,y:e.y})},n.drawSquare=function(e,t,a){n.ctx.setTransform(1,0,0,1,0,0),n.ctx.translate(e,t),n.ctx.rotate(a),n.handleStrokeType()},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setRenderer()}},{key:"componentDidUpdate",value:function(e){this.props.mode!==e.mode&&this.setModeTranformation()}},{key:"render",value:function(){return r.a.createElement(xe,null,r.a.createElement(ge,{id:"canvasRender",onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseLeave,onMouseLeave:this.handleMouseLeave}))}}]),t}(a.Component);function be(){var e=Object(f.a)(["\n    width:1px;\n    position: absolute;\n    height: 100%;\n    background:#e7e7e7;\n    bottom: 50%;\n    left:",";\n    transform-origin: bottom;\n    transform: ",";\n"]);return be=function(){return e},e}function we(){var e=Object(f.a)(["\n    width: 130px;\n    height: 1px;\n    background:#e7e7e7;\n    position: absolute;\n    transform-origin: left;\n    transform: ",";\n    left:",";\n    top:",";\n\n"]);return we=function(){return e},e}function ke(){var e=Object(f.a)(["\n    width: 367.7px;\n    height: 1px;\n    background:#e7e7e7;\n    position: absolute;\n    transform-origin: left;\n    transform: ",";\n    left:",";\n    top:",";\n\n"]);return ke=function(){return e},e}function ye(){var e=Object(f.a)(["\n    width: 8px;\n    position: absolute;\n    border-radius: 50%;\n    height: 8px;\n    background:#e7e7e7;\n    left:",";\n    top:",";\n"]);return ye=function(){return e},e}function Ee(){var e=Object(f.a)(["\n    width:1px;\n    position: absolute;\n    height: 100%;\n    background:#e7e7e7;\n    left:",";\n"]);return Ee=function(){return e},e}function je(){var e=Object(f.a)(["\n    width:100%;\n    position: absolute;\n    height: 1px;\n    background:#e7e7e7;\n    top:",";\n"]);return je=function(){return e},e}function Oe(){var e=Object(f.a)(["\n    position: absolute;\n    width:100%;\n    height: 100%;\n    z-index:0;\n    overflow:hidden;\n"]);return Oe=function(){return e},e}me.defaultProps={strokeColor:"#000000"};var Se=g.a.div(Oe()),De=g.a.div(je(),(function(e){return e.top+"px"})),Ce=g.a.div(Ee(),(function(e){return e.top+"px"})),Me=g.a.div(ye(),(function(e){return e.left+"px"}),(function(e){return e.top+"px"})),Re=g.a.div(ke(),(function(e){return"rotate(".concat(e.angle,"deg)")}),(function(e){return e.left+"px"}),(function(e){return e.top+"px"})),ze=g.a.div(we(),(function(e){return"rotate(".concat(e.angle,"deg)")}),(function(e){return e.left+"px"}),(function(e){return e.top+"px"})),We=g.a.div(be(),(function(e){return e.left+"px"}),(function(e){return"rotate(".concat(e.angle,"deg)")})),He=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).renderGrid=function(){var e=[];switch(n.props.mode){case"Mirror":e=n.mirrorGrid();break;case"Rotation":case"Kaliedo":e=n.rotationalGrid();break;case"SquareRotation":case"SquareKaliedo":e=n.squareGrid();break;case"Hexagon":e=n.hexagonGrid();break;case"HexagonRotation":case"HexagonKaliedo":e=n.triangleGrid();break;default:e=n.mirrorGrid()}return e},n.mirrorGrid=function(){var e=window.innerWidth-250;return r.a.createElement(Ce,{top:e/2})},n.rotationalGrid=function(){for(var e=window.innerWidth-250,t=n.props.sections,a=[],o=0;o<=360;o+=360/t)a.push(r.a.createElement(We,{key:"RotateLine"+o,left:e/2,angle:o}));return a},n.squareGrid=function(){for(var e=n.props.mode,t=window.innerWidth-250,a=window.innerHeight-50,o=[],i=[],c=[],s=[],l=130;l<=a+130;l+=130)o.push(r.a.createElement(De,{key:l+"HorizontalLine",top:l}));for(var u=130;u<=t+130;u+=130)i.push(r.a.createElement(Ce,{key:u+"VerticalLine",top:u}));for(var d=130;d<=a+130;d+=260)for(var p=130;p<=t+260;p+=260)c.push(r.a.createElement(Me,{key:"".concat(d).concat(p,"ReferencePoint"),top:d-4,left:p-4})),"SquareKaliedo"===e&&(s.push(r.a.createElement(Re,{angle:45,key:"".concat(d).concat(p,"Diagonal"),top:d-130,left:p-130})),s.push(r.a.createElement(Re,{angle:135,key:"".concat(d).concat(p,"Diagonal2"),top:d-130,left:p-130})));return[].concat(o,i,c,s)},n.triangleGrid=function(){for(var e=window.innerWidth-250,t=window.innerHeight-50,n=[],a=[],o=[],i=112.5;i<=t+112.5;i+=112.5)n.push(r.a.createElement(De,{key:i+"HorizontalLine",top:i}));for(var c=0,s=0;s<=t+112.5;s+=112.5){for(var l=c%2?0:65,u=0;u<=e+130;u+=130)o.push(r.a.createElement(ze,{angle:60,key:"".concat(u).concat(s,"Diagonal"),top:s,left:u-l})),o.push(r.a.createElement(ze,{angle:120,key:"".concat(u).concat(s,"Diagonal23"),top:s,left:u-l}));c++}for(var d=0,p=0;p<=t+112.5;p+=112.5){for(var h=d%2?130:325,f=0;f<=e+130;f+=390)a.push(r.a.createElement(Me,{key:"".concat(p).concat(f,"ReferencePoint"),top:p-4,left:f+h-4}));d++}return[].concat(n,o,a)},n.hexagonGrid=function(){for(var e=window.innerWidth-250,t=window.innerHeight-50,n=[],a=0,o=0;o<=t+112.5;o+=112.5){for(var i=a%2?0:65,c=130;c<=e+130;c+=390)i?(n.push(r.a.createElement(ze,{angle:60,key:"".concat(c).concat(o,"Diagonal"),top:o,left:130+c-i})),n.push(r.a.createElement(ze,{angle:120,key:"".concat(c).concat(o,"Diagonal23"),top:o,left:c-i})),n.push(r.a.createElement(ze,{angle:0,key:"".concat(c).concat(o,"Diagonal24"),top:o,left:c-i}))):(n.push(r.a.createElement(ze,{angle:60,key:"".concat(c).concat(o,"Diagonal"),top:o,left:c-i-130})),n.push(r.a.createElement(ze,{angle:120,key:"".concat(c).concat(o,"Diagonal23"),top:o,left:130+c-i})),n.push(r.a.createElement(ze,{angle:0,key:"".concat(c).concat(o,"Diagonal24"),top:o,left:130+c-i})));a++}return n},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(Se,null,this.renderGrid())}}]),t}(a.Component);He.defaultProps={mode:"Mirror",sections:10};var qe=He,Pe=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.children;return r.a.createElement(y.Provider,{value:t},n)}}]),t}(a.Component);function Te(){var e=Object(f.a)(["\n    font-size: 22px;\n    font-weight: 900;\n    user-select: none;\n\n"]);return Te=function(){return e},e}function Ke(){var e=Object(f.a)(["\n    width: 240px;\n    height: 160px;\n    user-select: none;\n\n"]);return Ke=function(){return e},e}function Le(){var e=Object(f.a)(["\n    position: relative;\n    width: 100%;\n    height:197px;\n    border-bottom: 1px solid #f1f1f1;\n    cursor: pointer;\n    padding: 4px;\n    color: #000;\n    background: #fff;\n    transition: 0.3s;\n    filter: grayscale(100%);\n\n    &:hover{\n        color: #4f73f9;\n        background: #000;\n        filter: grayscale(0%);\n\n    }\n"]);return Le=function(){return e},e}function Ie(){var e=Object(f.a)(["\n    position: fixed;\n    width: 250px;\n    height: 100vh;\n    border-right: 1px solid #f1f1f1;\n    background: #fff;\n    user-select: none;\n    display: flex;\n    flex-direction: column;\n    -webkit-overflow-scrolling: touch;\n    overflow: scroll;\n    z-index: 1;\n    padding-bottom:50px;\n    transition: 0.3s;\n    transform: ",";\n"]);return Ie=function(){return e},e}var Ge=g.a.div(Ie(),(function(e){return e.show?"translate(0px, 0px)":"translate(-250px, 0px)"})),Be=g.a.div(Le()),Ae=g.a.img(Ke()),Ne=g.a.div(Te()),Ue=function(e){var t=e.handleDrawingMode,n=e.show,a=oe.map((function(e){return r.a.createElement(Be,{key:e.name,onClick:function(){t(e.name)}},r.a.createElement(Ae,{src:e.image,alt:e.title}),r.a.createElement(Ne,null,e.title))}));return r.a.createElement(Ge,{show:n},a)};function Ve(){var e=Object(f.a)(["\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    height: calc(100vh - 50px);\n"]);return Ve=function(){return e},e}var Fe=g.a.div(Ve());function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ye=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={settings:{stroke:"Near Point",strokeColor:"#000000",background:"#ffffff",showGrid:!0,sections:10,strokeWeight:1},data:[],drawingMode:"Rotation",showDrawingMode:!1},n.handleSettings=function(e,t){var a=n.state.settings;n.setState({settings:Xe({},a,Object(s.a)({},e,t))})},n.handleDrawingMode=function(e){n.setState({drawingMode:e,showDrawingMode:!1}),n.clearData()},n.displayDrawingMode=function(){var e=n.state.showDrawingMode;n.setState({showDrawingMode:!e})},n.updateData=function(e){var t=n.state.data;n.setState({data:[].concat(Object(c.a)(t),[e])})},n.reCalData=function(e){var t=n.state.data,a=t.length-1,r=t.slice(0,a-e);n.setState({data:[].concat(Object(c.a)(r),[t[t.length-1]])})},n.clearData=function(){n.setState({data:[]})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.settings,n=e.drawingMode,a=e.showDrawingMode,o=e.data,i=t.stroke,c=t.strokeColor,s=t.background,l=t.showGrid,u=t.sections,d=t.strokeWeight,p=l?r.a.createElement(qe,{mode:n,sections:u}):[];return r.a.createElement(Pe,{value:{settings:t,data:o,showDrawingMode:a,handleSettings:this.handleSettings,displayDrawingMode:this.displayDrawingMode}},r.a.createElement(j,null),r.a.createElement(Ue,{handleDrawingMode:this.handleDrawingMode,show:a}),r.a.createElement(Fe,null,r.a.createElement(ve,{color:s}),p,r.a.createElement(me,{mode:n,stroke:i,strokeColor:c,sections:u,updateData:this.updateData,strokeWeight:d}),r.a.createElement(de,{data:o,settings:t,reCalData:this.reCalData,clearData:this.clearData,mode:n})))}}]),t}(a.Component),$e=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Qe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(Ye,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/caleido",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/caleido","/service-worker.js");$e?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Qe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Qe(t,e)}))}}()}},[[19,1,2]]]);
//# sourceMappingURL=main.f8a3a5a7.chunk.js.map